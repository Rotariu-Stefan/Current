{"version":3,"sources":["methods.js","AppContext.js","Sections/Header.js","Sections/Nav.js","MainPages/Home.js","Components/NoteView.js","Components/Note.js","Components/FoodEntry.js","Components/MealEntry.js","MainPages/PagePanels/DayArea.js","Components/FoodItem.js","MainPages/PagePanels/AddFoodArea.js","MainPages/PagePanels/FoodDetailsArea.js","MainPages/DailyMeals.js","MainPages/YourFood.js","MainPages/YourPlans.js","MainPages/YourStats.js","MainPages/GlobalStats.js","MainPages/UsersData.js","MainPages/Profile.js","MainPages/Login.js","MainPages/Register.js","MainPages/Error.js","Sections/Main.js","Sections/Footer.js","App.js","index.js"],"names":["dateToStr","dateObj","getFullYear","getMonth","toString","getDate","getServerURL","svData","serverLink","defaultUser","userid","username","email","firstname","lastname","dob","Date","sex","describe","pic","diet","defaultmeals","access","AppContext","React","createContext","currentUser","updateUser","updateUserProfile","changeMainPage","Header","props","onHomeClick","context","onProfileClick","state","isLogged","onLogClick","newIsLogged","setState","this","className","alt","src","role","tabIndex","onClick","Component","contextType","Nav","onNavClick","ev","currentTarget","getAttribute","data-page","Home","NoteView","onNoteViewSelect","updateSelectedNote","toggleSelected","isSelected","note","signalSelect","kEYUPDATE","score","title","notetext","selectedOrNot","defaultProps","Note","onSearchTermsChange","searchTerms","value","loadNoteViews","onNewNoteValueChange","newNote","onSetNewNote","view","selectedNoteView","updateNote","onRemoveNote","onViewChange","searchParam","noteViews","noteViewsIsLoading","searchCounter","sc","setTimeout","searchNoteViews","a","userId","fetch","method","headers","res","json","sender","_getNoteViews","noteViewCounter","map","_getNoteView","nv","key","_scoreOptions","options","i","push","_editChoices","checked","data-view","name","_reactInternalFiber","type","onChange","isMin","data-field","defaultValue","maxLength","defaultNote","FoodEntry","onRemoveFoodEntry","fatRes","carbsRes","proteinRes","updateRemoveFoodEntry","updateMealMacros","getMacroRes","mstr","foodEntry","amount","measure","sizeinfo","Number","toFixed","defaultFoodEntry","foodname","brand","fat","carbs","protein","brandOrNot","removeImgOrNot","readOnly","foodid","price","isdish","MealEntry","onMealSelect","updateSelectedMeal","onRemoveMeal","updateRemoveMeal","updateDayMacros","onMinMaxToggle","stopPropagation","mealEntry","foodentries","splice","updateNewFoodEntry","newFat","newCarbs","newProtein","portion","toggleHighlight","isHighlighted","_getFoodEntries","foodEntriesCounter","_getFoodEntry","entry","fe","defaultMealEntry","mealname","removeNote","DayArea","onLoadDailyMeals","dayParam","day","alert","mealareaIsLoading","selectedMeal","dayEntry","dayFat","dayCarbs","dayProtein","selectedDay","onDayOffset","d","setDate","onCommit","searchareaIsLoading","dayPutReq","date","body","JSON","stringify","console","log","updateAddNewMeal","mealName","meals","length","isNaN","newMealEntry","noteid","updateDishSelect","newFoodEntry","newfat","newcarbs","newprotein","_getMealEntries","mealsEntriesCounter","_getMealEntry","me","updateMealFoodEntries","updateMealNote","setInitialState","mealsAreaOrLoading","noteOrLoading","data-offset","disabled","initialDate","FoodItem","onSelectedFoodChanged","updateSelectedFood","foodItem","defaultFoodItem","AddFoodArea","loadFoodItems","onIsAllChange","isAll","onMeasureChange","onAmountChange","onSearchKey","selectedFood","onAddNewFoodEntry","preventDefault","document","querySelector","select","selectedIndex","foodList","querySelectorAll","click","onAmountKey","newFoodForm","newFoodItem","errorMessage","addNewFoodEntryChecks","placeholder","updateAddNewFoodEntry","onAddNewMeal","newMName","newMPortion","onToggleFoodForm","onChangeFoodValue","field","psi","sFoodItems","typeDelay","searchFoodItems","sum","resetAfterAdd","_currentEntry","selectedOrNull","newEntry","_getAmountCurrent","_getAmountDefault","_getMeasureVisible","_getFoodItems","foodItemsCounter","_getFoodItem","item","fi","newFoodKey","onKeyDown","id","FoodDetailsArea","onDishSelect","selectedFoodDetails","isDishSelected","onCalculateDishValues","onSaveDishIngr","dishData","dishid","f","updateSelectedFoodDetails","newFoodDetails","_infoForMeasure","measureStr","infoValue","_compositionOrNot","_dishButtonsOrNot","calories","highlightOrNot","picOrEmpty","colSpan","DailyMeals","dayAreaRef","node","dayArea","addFoodAreaRef","addFoodArea","foodDetailsAreaRef","foodDetailsArea","status","ref","YourFood","YourPlans","YourStats","GlobalStats","UsersData","Profile","onUserValueChanged","newStateObj","onResetChanges","onBrowseUserPic","onChangeProfile","isLoading","changeProfile","onChangePassword","changePassword","warning","includes","message","passNow","passNew","passConfirm","passRegex","match","oldpass","newpass","onReset","onSubmit","minLength","Login","onUserChange","onPassChange","pass","onLinkPress","onLogin","loginUser","successStatus","warningMsg","user","Register","onRegister","registerUser","passC","desc","pattern","required","Error","Main","changePage","newPage","page","Footer","render","App","headerRef","header","navRef","nav","mainRef","main","footerRef","footer","data","Provider","ReactDOM"],"mappings":"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","file":"static/js/main.8f348434.chunk.js","sourcesContent":["import svData from \"./svData.json\";\r\n\r\n\r\nconst dateToStr = (dateObj) => `${dateObj.getFullYear()}-`\r\n+ `${dateObj.getMonth() + 1 > 9 ? (dateObj.getMonth() + 1).toString() : `0${(dateObj.getMonth() + 1).toString()}`}-`\r\n+ `${dateObj.getDate() > 9 ? dateObj.getDate().toString() : `0${dateObj.getDate().toString()}`}`;\r\n\r\nconst getServerURL = () =>\r\n  svData.serverLink;\r\n// return \"http://localhost:3001\";\r\n\r\nexport { dateToStr, getServerURL };\r\n","\r\nimport React from \"react\";\n\r\nimport { dateToStr } from \"./methods\";\n\n\r\nconst defaultUser = {\r\n  userid: 0,\r\n  username: \"Guest\",\r\n  email: \"guest@nomail.none\",\r\n  firstname: \"John\",\r\n  lastname: \"Doe\",\r\n  dob: dateToStr(new Date()),\r\n  sex: \"1\",\r\n  describe: \"placeholder\",\r\n  pic: \"profileEmpty.png\",\r\n  diet: null,\r\n  defaultmeals: \"Breakfast,Lunch,Dinner\",\r\n  access: \"Guest\",\r\n};\r\n\r\nconst AppContext = React.createContext({\r\n  currentUser: defaultUser,\r\n  updateUser: null,\r\n  updateUserProfile: null,\r\n  changeMainPage: null,\r\n});\r\n\r\nexport { AppContext, defaultUser };\r\n","// import { NavLink } from 'react-router-dom';\r\n//\r\n// const Header = () => {\r\n//    return (\r\n//        <header className=\"subblock boxShow\">\r\n//            <img src=\"SitePics/head.png\" alt=\"[NO LOGO]\" className=\"logo\" />\r\n//            <div id=\"titleArea\">\r\n//                <NavLink to=\"/\">\r\n//                    <h1 id=\"title\">FoodTracker</h1>\r\n//                    <h3 id=\"subtitle\">Define and Track your Food and diet goals on Your own terms!</h3>\r\n//                </NavLink>\r\n//            </div>\r\n//            <div id=\"profileArea\" className=\"boxShow\">\r\n//                <NavLink to=\"/Login\">\r\n//                    Guest<br />\r\n//                    <img src=\"SitePics/profileEmpty.png\" alt=\"[NO PIC]\" />\r\n//                </NavLink>\r\n//                <NavLink className=\"navlink\" to=\"/Register\">Register</NavLink>\r\n//                <NavLink className=\"navlink\" to=\"/Login\">Login</NavLink>\r\n//            </div>\r\n//        </header>\r\n//    );\r\n// }\r\n\r\n/* eslint-disable no-console */\r\n/* eslint-disable no-alert */\r\n/* eslint-disable jsx-a11y/click-events-have-key-events */\r\n/* eslint-disable jsx-a11y/no-onchange */\r\nimport React from \"react\";\n\nimport { AppContext } from \"../AppContext\";\n\n\r\nclass Header extends React.Component {\r\n   static contextType = AppContext;\r\n\r\n   constructor(props) {\r\n     super(props);\r\n\r\n     this.state = { isLogged: false };\r\n   }\r\n\r\n   render() {\r\n     const { isLogged } = this.state;\r\n     const { username, pic } = this.context.currentUser;\r\n\r\n     return (\r\n       <header className=\"subblock boxShow\">\r\n         <img alt=\"[NO LOGO]\" className=\"logo\" src=\"SitePics/head.png\" />\r\n         <div className=\"titleArea\" role=\"link\" tabIndex=\"0\" onClick={this.onHomeClick}>\r\n           <h1 className=\"pagetitle\">FoodTracker</h1>\r\n           <h3 className=\"subtitle\">Define and Track your Food and diet goals on Your own terms!</h3>\r\n         </div>\r\n         <div className=\"profileArea boxShow\">\r\n           <span role=\"link\" tabIndex=\"0\" onClick={this.onProfileClick}>\r\n             {username}\r\n             <br />\r\n             <img alt=\"[NO PIC]\" src={`UserPics/${pic}`} />\r\n           </span>\r\n           <span className=\"navlink\" role=\"link\" tabIndex=\"0\" onClick={this.onProfileClick}>\r\n             {isLogged ? \"Profile\" : \"Register\"}\r\n           </span>\r\n           <span className=\"navlink\" role=\"link\" tabIndex=\"0\" onClick={this.onLogClick}>\r\n             {isLogged ? \"Logout\" : \"Login\"}\r\n           </span>\r\n         </div>\r\n       </header>\r\n     );\r\n   }\r\n\r\n   onHomeClick = () => this.context.changeMainPage(\"Home\");\r\n   onProfileClick = () => this.context.changeMainPage(this.state.isLogged ? \"Profile\" : \"Register\");\r\n   onLogClick = () => {\r\n     const { isLogged } = this.state;\r\n     const { updateUser, changeMainPage } = this.context;\r\n\r\n     if (isLogged) {\r\n       updateUser(null);\r\n       changeMainPage(\"Home\");\r\n     } else {\n       changeMainPage(\"Login\");\n     }\r\n   };\r\n\r\n  updateUser = (newIsLogged) => {\r\n    this.setState({ isLogged: newIsLogged });\r\n  };\r\n}\r\n\r\nexport default Header;\r\n","/* eslint-disable no-console */\n/* eslint-disable no-alert */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-onchange */\nimport React from \"react\";\n\r\nimport { AppContext } from \"../AppContext\";\r\n\r\n// import { NavLink } from 'react-router-dom';\r\n//\r\n// const Nav = () => {\r\n//    return (\r\n//        <nav className=\"subblock boxShow\">\r\n//            <NavLink className=\"navlink textHigh\" to=\"/DailyMeals\">Daily Meals</NavLink>|\r\n//            <NavLink className=\"navlink textHigh\" to=\"/YourFood\">Your Food</NavLink>|\r\n//            <NavLink className=\"navlink textHigh\" to=\"/YourPlans\">Your Plans</NavLink>|\r\n//            <NavLink className=\"navlink textHigh\" to=\"/YourStats\">Your Stats</NavLink>|\r\n//            <NavLink className=\"navlink textHigh\" to=\"/GlobalStats\">Global Stats</NavLink>|\r\n//            <NavLink className=\"navlink textHigh\" to=\"/GlobalData\">Global Data</NavLink>\r\n//        </nav>\r\n//    );\r\n// }\r\n\r\nclass Nav extends React.Component {\r\n    static contextType = AppContext;\r\n\r\n    render() {\r\n      return (\r\n        <nav className=\"subblock boxShow\">\r\n          <span\n            className=\"navlink textHigh\" data-page=\"DailyMeals\" role=\"link\"\r\n            tabIndex=\"0\" onClick={this.onNavClick}\n          >Daily Meals</span>|\r\n          <span\n            className=\"navlink textHigh\" data-page=\"YourFood\"\r\n            role=\"link\" tabIndex=\"0\" onClick={this.onNavClick}\n          >Your Food</span>|\r\n          <span\n            className=\"navlink textHigh\" data-page=\"YourPlans\"\r\n            role=\"link\" tabIndex=\"0\" onClick={this.onNavClick}\n          >Your Plans</span>|\r\n          <span\n            className=\"navlink textHigh\" data-page=\"YourStats\"\r\n            role=\"link\" tabIndex=\"0\" onClick={this.onNavClick}\n          >Your Stats</span>|\r\n          <span\n            className=\"navlink textHigh\" data-page=\"GlobalStats\"\r\n            role=\"link\" tabIndex=\"0\" onClick={this.onNavClick}\n          >Global Stats</span>|\r\n          <span\n            className=\"navlink textHigh\" data-page=\"GlobalData\"\r\n            role=\"link\" tabIndex=\"0\" onClick={this.onNavClick}\n          >Users Data</span>\r\n        </nav>\r\n      );\r\n    }\r\n\r\n    onNavClick = (ev) => this.context.changeMainPage(ev.currentTarget.getAttribute(\"data-page\"));\r\n}\r\n\r\nexport default Nav;\r\n","import React from \"react\";\n\r\n\r\nconst Home = () => (\r\n  <main className=\"boxShow\">\r\n    <div className=\"subblock\">\r\n      <h1>WELCOME !</h1>\r\n      <p>\r\n        This is a website where you can track what you eat. You can Design ,Customize and Organize\r\n        foods, meals and diet plans to your liking, and also track various self defined goals\r\n        with a high degree of customisability and have easy access to helpful information.\r\n      </p>\r\n      <p><br />\r\n        While preselecting foods through scanning codes and importing lists from various places will\r\n        be available in the future, the Main Functionality of this site revolves around providing a\r\n        a simple practical and flexible framework where YOU Define and Organize your stuff and can potentially completely ignore anything else.\r\n      </p>\r\n      <p><br />\r\n        This has been entirely made from scratch by me (o/ hi!) mostly because other similar websites seem to want to box you into a way of doing things and predefine certain goals for you while also expecting you to pick from many predefined items. I found this rather confusing or restrictive and annoying.\r\n        BUT here if you feel like making a user called Worm69 that eats 2grams of Dirt and Fungus 30 times a day you can do that!(please don't tho..)\r\n      </p><br />\r\n      <p><span>As a Guest you have Certain Limitations:</span> You can only log food in a specific time period and also have limits on how many entries you can asign to your daily meals. The Guest is only here to quick demonstrations on how this site functions and the data you enter is NOT Realiable/Persistent for long terms.\r\n        (also as this site is currently running for free and will receive major changes-including the database- The Data you put in might get wiped/changed in the future).\r\n      </p>\r\n      <p><br />\r\n        This site is in constant development and tends to get frequent (often daily) updates.\r\n        Right now you can make an account, change profile details, and in DailyMeals section you can\r\n        add/change Meals to days you select, and add Food Items to Meals.\r\n        You can do this either by searching through a list of Foods(right now comprises of what I've eaten lately) or create your own foods. Right now you can only add simple foods with a name and brand, macronutrients and size/portion information. More will come.\r\n        <br />\r\n      </p>\r\n      <p><br />\r\n        But you can attach notes to days and meals. Notes consist of a score, a title and text.\r\n        You use this system to write how you felt about a meal, keep track of alergies/odd reactions/blood sugar or really anything you want. You can find a list of my notes but they probably won't help much because it's personal to me. The list will change to something more general/better later on.\r\n      </p>\r\n\r\n    </div>\r\n  </main>\r\n);\r\n\r\nexport default Home;\r\n","/* eslint-disable no-console */\n/* eslint-disable no-alert */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-onchange */\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\r\n\r\nclass NoteView extends React.Component {\r\n  static propTypes = {\n    note: PropTypes.object.isRequired,\n    updateSelectedNote: PropTypes.func.isRequired,\n    signalSelect: PropTypes.bool,\n  };\n\r\n  static defaultProps = { signalSelect: false };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      note: props.note,\r\n      isSelected: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.signalSelect) {\n      this.props.updateSelectedNote(this);\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.kEYUPDATE();\r\n  }\r\n\r\n  render() {\r\n    const { isSelected, note } = this.state;\r\n    const { score, title, notetext } = note;\r\n\r\n    const selectedOrNot = isSelected ? \" nSelected\" : \"\";\r\n\r\n    return (\r\n      <div\n        className={`noteView boxShow lineDown${selectedOrNot}`}\r\n        role=\"menuitem\" tabIndex=\"0\" onClick={this.onNoteViewSelect}\n      >\r\n        <img alt={`S=${score}`} className=\"scoreImg\" src={`SitePics/star${score}.png`} />\r\n        <span className=\"title\">{title}</span>\r\n        <span>{`--${notetext ? notetext : \"<Empty>\"}`}</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onNoteViewSelect = () => this.props.updateSelectedNote(this);\r\n\r\n  toggleSelected = () => this.setState({ isSelected: !this.state.isSelected });\r\n\r\n  kEYUPDATE() {\r\n    if (this.props.note !== this.state.note) {\r\n      this.setState({ note: this.props.note });\r\n    }\r\n  }\r\n}\r\n\r\nexport default NoteView;\r\n","/* eslint-disable no-console */\n/* eslint-disable no-alert */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-onchange */\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\r\nimport { AppContext } from \"../AppContext\";\nimport { getServerURL } from \"../methods\";\n\nimport NoteView from \"./NoteView\";\n\r\n\r\nclass Note extends React.Component {\r\n  static contextType = AppContext;\r\n  static propTypes = {\r\n    note: PropTypes.object.isRequired,\n    updateNote: PropTypes.func.isRequired,\n    isMin: PropTypes.bool,\n  };\n\r\n  static defaultProps = { isMin: false };\r\n  static defaultNote = {\r\n    score: 0,\r\n    title: \"\",\r\n    notetext: \"\",\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      note: props.note,\r\n      view: \"info\",\r\n\r\n      noteViewsIsLoading: true,\r\n      selectedNoteView: null,\r\n      noteViews: [],\r\n\r\n      searchTerms: \"\",\r\n\r\n      newNote: {\r\n        score: 0,\r\n        title: \"\",\r\n        notetext: \"\",\r\n      },\r\n    };\r\n    this.noteViewCounter = 0;\r\n    this.searchCounter = 0;\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.kEYUPDATE();\r\n  }\r\n\r\n  render() {\r\n    const { note, view, noteViewsIsLoading, newNote } = this.state;\r\n\r\n    if (this.props.isMin) {\r\n      return <hr />;\r\n    }\r\n    if (view === \"info\") {\r\n      if (!note) {\r\n        return (\r\n          <div className=\"note boxShow\">\r\n            No Note\r\n            <button className=\"managerImg16\" data-view=\"select\" onClick={this.onViewChange}>\r\n              <img alt=\"N\" src=\"SitePics/icons8-plus-16.png\" />\r\n            </button>\r\n          </div>\r\n        );\r\n      } else if (note) {\r\n        const { score, title, notetext } = note;\r\n\r\n        return (\r\n          <div className=\"note boxShow\">\r\n            <img alt={`S=${score}`} className=\"scoreImg\" src={`SitePics/star${score}.png`} />\r\n            <button className=\"managerImg16\" onClick={this.onRemoveNote}>\r\n              <img alt=\"X\" src=\"SitePics/icons8-close-window-16.png\" />\r\n            </button>\r\n            <button className=\"managerImg16\" data-view=\"select\" onClick={this.onViewChange}>\r\n              <img alt=\"Edit\" src=\"SitePics/icons8-edit-16.png\" />\r\n            </button>\r\n            <span className=\"title\">{title}</span>\r\n            <span className=\"notetext\">{notetext ? `--${notetext}` : \"\"}</span>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n    if (view === \"new\") {\r\n      return (\r\n        <div className=\"noteEdit boxShow\">\r\n          {this._editChoices()}\r\n          <div className=\"newNote\">\r\n            <span>Score:</span>\r\n            <div>\r\n              <select data-field=\"score\" defaultValue={0} onChange={this.onNewNoteValueChange} >\r\n                {this._scoreOptions()}\r\n              </select>\r\n              <img alt={`S=${newNote.score}`} className=\"scoreImg\" src={`SitePics/star${newNote.score}.png`} />\r\n              <button onClick={this.onSetNewNote}>Apply New Note</button>\r\n            </div>\r\n            <span>Title:</span>\r\n            <input data-field=\"title\" maxLength=\"50\" type=\"text\" onChange={this.onNewNoteValueChange} />\r\n            <span>Text:</span>\r\n            <textarea data-field=\"notetext\" maxLength=\"250\" onChange={this.onNewNoteValueChange} />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    if (view === \"select\") {\r\n      return (\r\n        <div className=\"noteEdit boxShow\">\r\n          {this._editChoices()}\r\n          <div className=\"selectNote\">\r\n            <div className=\"noteSearch\">\r\n              Search:<input maxLength=\"100\" type=\"text\" onChange={this.onSearchTermsChange} />\r\n              <button onClick={this.onSetNewNote}>Select Note</button>\r\n            </div>\r\n            <div className=\"noteSearchArea\">\r\n              {noteViewsIsLoading ? \"LOADING...\" : this._getNoteViews()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return \"\";\r\n  }\r\n\r\n  onSearchTermsChange = (ev) => this.setState({ searchTerms: ev.currentTarget.value },\r\n    this.loadNoteViews);\r\n\r\n  onNewNoteValueChange = (ev) => {\r\n    const { newNote } = this.state;\r\n\r\n    newNote[ev.currentTarget.getAttribute(\"data-field\")] = ev.currentTarget.value;\r\n    this.setState({ newNote });\r\n  };\r\n\r\n  onSetNewNote = () => {\r\n    const { view, newNote, selectedNoteView } = this.state;\r\n\r\n    if (view === \"new\") {\r\n      this.props.updateNote(newNote);\r\n      this.setState({\r\n        note: newNote,\r\n        view: \"info\",\r\n      });\r\n    }\r\n    if (view === \"select\") {\r\n      this.props.updateNote(selectedNoteView.state.note);\r\n      this.setState({\r\n        note: selectedNoteView.state.note,\r\n        view: \"info\",\r\n      });\r\n    }\r\n  };\r\n\r\n  onRemoveNote = () => this.props.updateNote(null);\r\n\r\n  onViewChange = (ev) => {\r\n    const view = ev.currentTarget.getAttribute(\"data-view\");\r\n    if (view === \"select\") {\r\n      this.loadNoteViews(\"\");\r\n    }\r\n    this.setState({ view });\r\n  }\r\n\r\n  loadNoteViews = (searchParam) => {\r\n    const searchTerms = typeof searchParam === \"string\" ? searchParam : searchParam.currentTarget.value;\r\n\r\n    this.setState({\r\n      noteViews: [],\r\n      noteViewsIsLoading: true,\r\n    });\r\n\r\n    this.searchCounter += 1;\r\n    const sc = this.searchCounter;\r\n    const typeDelay = 200;\r\n    setTimeout(() => this.searchNoteViews(searchTerms, sc), typeDelay);\r\n  };\r\n\r\n  searchNoteViews = async(searchTerms, searchCounter) => {\r\n    if (searchCounter < this.searchCounter) {\r\n      return;\r\n    }\r\n\r\n    // If app.currentUser is Guest pretend it's SV\r\n    const userId = this.context.currentUser.userid === 0 ? 1 : this.context.currentUser.userid;\r\n    let res = await fetch(`${getServerURL()}/dailymeals/notesearch`, {\r\n      method: \"get\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n        \"userid\": userId,\r\n        \"search\": searchTerms,\r\n      },\r\n    });\r\n    res = await res.json();\r\n    if (searchCounter < this.state.searchCounter) {\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      noteViews: res,\r\n      noteViewsIsLoading: false,\r\n    });\r\n  };\r\n\r\n  updateSelectedNote = (sender) => {\r\n    const { selectedNoteView } = this.state;\r\n\r\n    if (sender !== selectedNoteView) {\r\n      if (selectedNoteView) {\r\n        selectedNoteView.toggleSelected();\r\n      }\r\n      sender.toggleSelected();\r\n\r\n      this.setState({ selectedNoteView: sender });\r\n    }\r\n  };\r\n\r\n  _getNoteViews = () => {\r\n    const { noteViews } = this.state;\r\n\r\n    this.noteViewCounter = 0;\r\n\r\n    return noteViews.map(this._getNoteView);\r\n\r\n  };\r\n\r\n  _getNoteView = (note) => {\r\n    const nv = (\r\n      <NoteView\n        key={this.noteViewCounter} note={note} signalSelect={this.noteViewCounter === 0}\r\n        updateSelectedNote={this.updateSelectedNote}\n      />);\r\n    this.noteViewCounter += 1;\r\n\r\n    return nv;\r\n  };\r\n\r\n  _scoreOptions = () => {\r\n    const options = [];\r\n    for (let i = -5; i <= 5; i += 1) {\r\n      options.push(<option key={i}>{i}</option>);\r\n    }\r\n\n    return options;\r\n  };\r\n\r\n  _editChoices = () => {\r\n    const { view } = this.state;\r\n\r\n    return (\r\n      <div className=\"editChoices\">\r\n        <input\r\n          checked={view === \"select\"} data-view=\"select\" name={`${this._reactInternalFiber.key}_radio`}\r\n          type=\"radio\" value=\"select\" onChange={this.onViewChange}\r\n        />Select\r\n        <input\r\n          checked={view === \"new\"} data-view=\"new\" name={`${this._reactInternalFiber.key}_radio`}\r\n          type=\"radio\" value=\"new\" onChange={this.onViewChange}\r\n        />New\r\n        <button data-view=\"info\" onClick={this.onViewChange}>\r\n          Cancel\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  kEYUPDATE() {\r\n    if (this.props.note !== this.state.note) {\r\n      this.setState({ note: this.props.note });\r\n    }\r\n  }\r\n}\r\n\r\nexport default Note;\r\n","/* eslint-disable no-console */\n/* eslint-disable no-alert */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-onchange */\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\r\n\r\nclass FoodEntry extends React.Component {\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    foodEntry: PropTypes.object,\r\n    readOnly: PropTypes.bool,\r\n    updateMealMacros: PropTypes.func,\r\n    updateRemoveFoodEntry: PropTypes.func,\r\n\r\n  };\n\n  static defaultProps ={\n    foodEntry: FoodEntry.defaultFoodEntry,\n    readOnly: false,\n    updateMealMacros: null,\n    updateRemoveFoodEntry: null,\n    className: \"\",\n  };\n\r\n  static defaultFoodEntry = {\r\n    // entryid: 0,\r\n    foodid: 0,\r\n    foodname: \"Nothing\",\r\n    brand: \"Nobody\",\r\n    fat: 0, carbs: 0, protein: 0,\r\n    sizeinfo: null, userid: 0, pic: null, price: 0,\r\n    isdish: false,\r\n    note: null,\r\n    amount: 1,\r\n    measure: \"Pieces\",\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const { foodEntry } = props;\r\n\r\n    this.state = {\r\n      foodEntry: foodEntry ? foodEntry : { ...FoodEntry.defaultFoodEntry },\r\n      fatRes: this.getMacroRes(\"fat\", foodEntry),\r\n      carbsRes: this.getMacroRes(\"carbs\", foodEntry),\r\n      proteinRes: this.getMacroRes(\"protein\", foodEntry),\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { fatRes, carbsRes, proteinRes } = this.state;\r\n\r\n    if (this.props.updateMealMacros) {\r\n      this.props.updateMealMacros(fatRes, carbsRes, proteinRes);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.kEYUPDATE();\r\n  }\r\n\r\n  render() {\r\n    const { foodEntry, fatRes, carbsRes, proteinRes } = this.state;\r\n    const { foodname, brand, amount, fat, carbs, protein } = (foodEntry ? foodEntry : FoodEntry.defaultFoodEntry);\r\n\r\n    const brandOrNot = brand ? `@${brand}` : \"\";\r\n    const removeImgOrNot = this.props.readOnly ? \"\" : (\r\n      <button className=\"managerImg16\" onClick={this.onRemoveFoodEntry}>\r\n        <img alt=\"X\" src=\"SitePics/icons8-closeM-window-16.png\" />\r\n      </button>);\r\n\r\n    return (\r\n      <div className={`foodEntry ${this.props.className}`}>\r\n        <span className=\"amount\">{amount}</span>\r\n        <span className=\"name_brand\">{`${foodname} ${brandOrNot}`}</span>\r\n        <span className=\"macro\">{`${fat}/${carbs}/${protein}`}</span>\r\n        <span className=\"macroRes\">{`${fatRes}/${carbsRes}/${proteinRes}`}{removeImgOrNot}</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onRemoveFoodEntry = () => {\r\n    const { fatRes, carbsRes, proteinRes } = this.state;\r\n\r\n    this.props.updateRemoveFoodEntry(this);\r\n    if (this.props.updateMealMacros) {\r\n      this.props.updateMealMacros(-fatRes, -carbsRes, -proteinRes);\r\n    }\r\n  }\r\n\r\n  getMacroRes = (mstr, foodEntry) => {\r\n    const { amount, measure, sizeinfo } = foodEntry;\r\n    if (measure === \"Pieces\") {\n      if (sizeinfo === null) {\n        return Number((foodEntry[mstr] * amount).toFixed(1));\n      }\n\n      return Number((foodEntry[mstr] * amount * sizeinfo / 100).toFixed(1));\r\n    }\n\n    return Number((foodEntry[mstr] * amount / 100).toFixed(1));\r\n  };\r\n\r\n  kEYUPDATE() {\r\n    if (this.props.foodEntry !== this.state.foodEntry) {\r\n      const { foodEntry } = this.props;\r\n      this.setState({\n        foodEntry,\r\n        fatRes: this.getMacroRes(\"fat\", foodEntry),\r\n        carbsRes: this.getMacroRes(\"carbs\", foodEntry),\r\n        proteinRes: this.getMacroRes(\"protein\", foodEntry),\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport default FoodEntry;\r\n","/* eslint-disable no-console */\n/* eslint-disable no-alert */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-onchange */\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport FoodEntry from \"./FoodEntry\";\r\nimport Note from \"./Note\";\n\r\n\r\nclass MealEntry extends React.Component {\r\n  static propTypes = {\r\n    mealEntry: PropTypes.object.isRequired,\r\n    updateDayMacros: PropTypes.func.isRequired,\r\n    updateRemoveMeal: PropTypes.func.isRequired,\r\n    updateSelectedMeal: PropTypes.func.isRequired,\r\n    signalSelect: PropTypes.bool,\r\n  };\n\r\n  static defaultProps = { signalSelect: false };\r\n  static defaultMealEntry = {\r\n    mealname: \"New Meal\",\r\n    portion: 1,\r\n    note: null,\r\n    foodentries: [],\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const { mealEntry } = props;\r\n\r\n    this.fat = 0;\r\n    this.carbs = 0;\r\n    this.protein = 0;\r\n    this.state = {\r\n      mealEntry: mealEntry ? mealEntry : { ...MealEntry.defaultMealEntry },\r\n\r\n      fat: 0,\r\n      carbs: 0,\r\n      protein: 0,\r\n\r\n      isHighlighted: false,\r\n      isMin: false,\r\n    };\r\n    this.foodEntriesCounter = 0;\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.signalSelect) {\r\n      this.onMealSelect();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.kEYUPDATE();\r\n  }\r\n\r\n  render() {\r\n    const { mealEntry, isHighlighted, isMin, fat, carbs, protein } = this.state;\r\n    const { mealname, note, portion } = mealEntry;\r\n\r\n    return (\r\n      <div\r\n        className={`mealArea boxShow${isHighlighted ? \" highlight\" : \"\"}`} role=\"menuitem\" tabIndex=\"0\"\r\n        onClick={this.onMealSelect}\r\n      >\r\n        <div className=\"mealTitle\">\r\n          {`${mealname} (x${portion})`}\r\n          <button className=\"managerImg20\" onClick={this.onRemoveMeal}>\r\n            <img alt=\"X\" src=\"SitePics/icons8-cancel-20.png\" />\r\n          </button>\r\n          <button className=\"managerImg20\" onClick={this.onMinMaxToggle}>\r\n            <img alt={isMin ? \"+\" : \"-\"} src={isMin ? \"SitePics/icons8-plus-20.png\" : \"SitePics/icons8-minus-20.png\"} />\r\n          </button>\r\n        </div>\r\n        <Note\r\n          key={this._reactInternalFiber.key + (note ? \"_note\" : \"0\")} isMin={isMin} note={note}\r\n          removeNote={this.removeNote} updateNote={this.updateNote}\r\n        />\r\n        <div className={`foodEntries lineDown${isMin ? \" hidden\" : \"\"}`}>\r\n          {this._getFoodEntries()}\r\n        </div>\r\n        <div className=\"mealTotal\">\r\n          <span>Meal Total:</span>\r\n          <span>{`${fat.toFixed(1)}|${carbs.toFixed(1)}|${protein.toFixed(1)}`}</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onMealSelect = () => this.props.updateSelectedMeal(this);\r\n\r\n  onRemoveMeal = () => {\r\n    const { fat, carbs, protein } = this.state;\r\n\r\n    this.props.updateRemoveMeal(this);\r\n    this.props.updateDayMacros(-fat, -carbs, -protein);\r\n  }\r\n\r\n  onMinMaxToggle = (ev) => {\r\n    this.setState({ isMin: !this.state.isMin });\r\n    ev.stopPropagation();\r\n  };\r\n\r\n  updateNote = (newNote) => {\r\n    const { mealEntry } = this.state;\r\n\r\n    mealEntry.note = newNote;\r\n    this.setState({ mealEntry });\r\n  };\r\n\r\n  updateRemoveFoodEntry = (foodEntry) => {\r\n    const { mealEntry } = this.state;\r\n\r\n    mealEntry.foodentries.splice(foodEntry._reactInternalFiber.key, 1);\r\n    this.setState({ mealEntry });\r\n  };\r\n\r\n  updateNewFoodEntry = (foodEntry) => {\r\n    const { mealEntry } = this.state;\r\n\r\n    mealEntry.foodentries.push(foodEntry);\r\n    this.setState({ mealEntry });\r\n\r\n    return \"\";\r\n  };\r\n\r\n  updateMealMacros = (newFat, newCarbs, newProtein) => {\r\n    const { portion } = this.state.mealEntry;\r\n\r\n    this.fat += (newFat * portion);\r\n    this.carbs += (newCarbs * portion);\r\n    this.protein += (newProtein * portion);\r\n\r\n    this.setState({\r\n      fat: this.fat,\r\n      carbs: this.carbs,\r\n      protein: this.protein,\r\n    });\r\n    this.props.updateDayMacros(newFat, newCarbs, newProtein);\r\n  };\r\n\r\n  toggleHighlight = () => this.setState({ isHighlighted: !this.state.isHighlighted });\r\n\r\n  _getFoodEntries = () => {\r\n    const { mealEntry } = this.state;\r\n\r\n    this.foodEntriesCounter = 0;\r\n\n    return mealEntry.foodentries.map(this._getFoodEntry);\r\n  };\r\n\r\n  _getFoodEntry = (entry) => {\r\n    const fe = (\r\n      <FoodEntry\r\n        key={this.foodEntriesCounter} className=\"lineDown\" foodEntry={entry}\r\n        updateMealMacros={this.updateMealMacros} updateRemoveFoodEntry={this.updateRemoveFoodEntry}\r\n      />);\r\n    this.foodEntriesCounter += 1;\r\n\r\n    return fe;\r\n  };\r\n\r\n  kEYUPDATE() {\r\n    if (this.props.mealEntry !== this.state.mealEntry) {\r\n      this.setState({ mealEntry: this.props.mealEntry });\r\n    }\r\n  }\r\n}\r\n\r\nexport default MealEntry;\r\n","/* eslint-disable no-console */\r\n/* eslint-disable no-alert */\r\n/* eslint-disable jsx-a11y/click-events-have-key-events */\r\n/* eslint-disable jsx-a11y/no-onchange */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\n\r\nimport Note from \"../../Components/Note\";\r\nimport MealEntry from \"../../Components/MealEntry\";\r\nimport { dateToStr, getServerURL } from \"../../methods\";\r\nimport { AppContext } from \"../../AppContext\";\n\n\r\nclass DayArea extends React.Component {\r\n  static contextType = AppContext;\r\n  static propTypes = { updateDishSelect: PropTypes.func.isRequired }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fat = 0;\r\n    this.carbs = 0;\r\n    this.protein = 0;\r\n    this.state = {\r\n      selectedDay: null,\r\n      dayEntry: {},\r\n      dayFat: 0,\r\n      dayCarbs: 0,\r\n      dayProtein: 0,\r\n\r\n      selectedMeal: null,\r\n      mealareaIsLoading: true,\r\n    };\r\n    this.mealsEntriesCounter = 0;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setInitialState();\r\n  }\r\n\r\n  render() {\r\n    const { selectedDay, dayEntry, mealareaIsLoading, dayFat, dayCarbs, dayProtein } = this.state;\r\n\r\n    const mealsAreaOrLoading = mealareaIsLoading ? \"LOADING...\" : this._getMealEntries();\r\n    const noteOrLoading = mealareaIsLoading ? \"LOADING...\" : (\r\n      <Note\n        key={`D${dayEntry.note ? dayEntry.note.noteid : \"D0\"}`} note={dayEntry.note}\r\n        removeNote={this.removeNote} updateNote={this.updateNote}\n      />\r\n    );\r\n\r\n    return (\r\n      <div className=\"dayArea subblock boxShow\">\r\n        <div className=\"dayHeader\">\r\n          <div className=\"datepick boxShow\">\r\n            <span className=\"textHigh\">Day: </span>\r\n            <button\n              className=\"ftButton\" data-offset=\"-1\"\r\n              disabled={mealareaIsLoading} onClick={this.onDayOffset}\n            >\r\n              {\"<\"}\r\n            </button>\r\n            <input\n              className=\"selectedDay\" disabled={mealareaIsLoading} type=\"date\" value={selectedDay}\r\n              onChange={this.onLoadDailyMeals}\n            />\r\n            <button\n              className=\"ftButton\" data-offset=\"1\"\r\n              disabled={mealareaIsLoading} onClick={this.onDayOffset}\n            >{\">\"}</button>\r\n          </div>\r\n          {noteOrLoading}\r\n        </div>\r\n        <div className=\"mealsArea\">\r\n          {mealsAreaOrLoading}\r\n        </div>\r\n        <hr />\r\n        <div className=\"dayTotal\">\r\n          <span>Day Total:</span>\r\n          <span>{`${dayFat.toFixed(1)}||${dayCarbs.toFixed(1)}||${dayProtein.toFixed(1)}`}</span>\r\n        </div>\r\n        <button className=\"ftButton\" disabled={mealareaIsLoading} onClick={this.onCommit}>COMMIT DAY!</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onLoadDailyMeals = (dayParam) => {\r\n    const { currentUser } = this.context;\r\n\r\n    const day = (typeof dayParam === \"string\") ? dayParam : dayParam.currentTarget.value;\r\n\r\n    if (currentUser.access === \"Guest\" &&\r\n      (new Date(day) < new Date(\"2020-06-04\") || new Date(day) > new Date(\"2020-06-11\"))) {\r\n      alert(\"As Guest user you can Only select from the 2020-06-04 to 2020-06-11 period!\");\r\n\r\n      return;\r\n    }\r\n\r\n    this.fat = 0;\r\n    this.carbs = 0;\r\n    this.protein = 0;\r\n    this.setState({\r\n      mealareaIsLoading: true,\r\n      selectedMeal: null,\r\n      dayEntry: null,\r\n      dayFat: 0,\r\n      dayCarbs: 0,\r\n      dayProtein: 0,\r\n    },\r\n    async() => {\r\n      let res = await fetch(`${getServerURL()}/dailymeals`, {\r\n        method: \"get\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          \"reqdate\": day,\r\n          \"userid\": currentUser.userid,\r\n        },\r\n      });\r\n      res = await res.json();\r\n\r\n      this.setState({\r\n        mealareaIsLoading: false,\r\n        selectedDay: day,\r\n        dayEntry: res,\r\n      });\r\n    });\r\n  };\r\n\r\n  onDayOffset = (ev) => {\r\n    const { selectedDay } = this.state;\r\n\r\n    const d = new Date(selectedDay);\r\n    d.setDate(d.getDate() + Number(ev.currentTarget.getAttribute(\"data-offset\")));\r\n    this.onLoadDailyMeals(dateToStr(d));\r\n  };\r\n\r\n  onCommit = () => {\r\n    this.setState({ searchareaIsLoading: true },\r\n      async() => {\r\n        const { dayEntry, selectedDay } = this.state;\r\n        const { currentUser } = this.context;\r\n\r\n        const dayPutReq = dayEntry;\r\n        dayPutReq.userid = currentUser.userid;\r\n        dayPutReq.date = selectedDay;\r\n\r\n        let res = await fetch(`${getServerURL()}/dailymeals`, {\r\n          method: \"put\",\r\n          headers: { \"content-type\": \"application/json\" },\r\n          body: JSON.stringify(dayPutReq),\r\n        });\r\n        res = await res.json();\r\n\r\n        this.onLoadDailyMeals(this.state.selectedDay);\r\n\r\n        console.log(res);\r\n        if (typeof res !== \"string\") {\r\n          alert(`Successfully entered date for day ${selectedDay}!\\n --You can view resulting entry in the console`);\r\n        } else {\r\n          alert(\"There was an Error!\");\r\n        }\r\n\r\n        this.setState({ searchareaIsLoading: false });\r\n      });\r\n  };\r\n\r\n  updateAddNewMeal = (mealName = \"\", portion = 1) => {\r\n    const { currentUser } = this.context;\r\n    const { dayEntry } = this.state;\r\n\r\n    if (currentUser.access === \"Guest\" && dayEntry.meals.length === 5) {\r\n      return \"As Guest user you cannot enter more than 5 Meals per day!\";\r\n    }\r\n    if (isNaN(portion)) {\r\n      return \"Must Enter Valid Number for Portion!\";\r\n    }\r\n\r\n    const newMealEntry = {\r\n      mealname: mealName === \"\" ? `Meal${dayEntry.meals.length + 1}` : mealName,\r\n      portion: portion === \"\" ? 1 : portion,\r\n      noteid: null,\r\n      foodentries: [],\r\n    };\r\n\r\n    dayEntry.meals.push(newMealEntry);\r\n    this.setState({ dayEntry });\r\n\r\n    return \"\";\r\n  };\r\n\r\n  updateRemoveMeal = (sender) => {\r\n    const { dayEntry } = this.state;\r\n\r\n    dayEntry.meals.splice(sender._reactInternalFiber.key, 1);\r\n    this.setState({ dayEntry });\r\n  };\r\n\r\n  updateSelectedMeal = (sender) => {\r\n    const { selectedMeal } = this.state;\r\n\r\n    if (sender === null && selectedMeal !== null) {\r\n      selectedMeal.toggleHighlight();\r\n      this.setState({ selectedMeal: null });\r\n    } else if (sender !== selectedMeal) {\r\n      if (selectedMeal) {\r\n        selectedMeal.toggleHighlight();\r\n      }\r\n      sender.toggleHighlight();\r\n      this.setState({ selectedMeal: sender });\r\n      // ev.stopPropagation();\r\n      this.props.updateDishSelect(false);\r\n    }\r\n  };\r\n\r\n  updateNewFoodEntry = (newFoodEntry) => {\r\n    const { selectedMeal } = this.state;\r\n    const { currentUser } = this.context;\r\n\r\n    if (selectedMeal === null) {\r\n      return \"Must select a Meal or Dish!\";\r\n    }\r\n    if (currentUser.access === \"Guest\" && selectedMeal.state.mealEntry.foodentries.length >= 7) {\r\n      return \"As Guest user you cannot enter more than 7 Food Items per Meal!\";\r\n    }\r\n\r\n    selectedMeal.updateNewFoodEntry(newFoodEntry);\r\n\r\n    return \"\";\r\n  };\r\n\r\n  updateDayMacros = (newfat, newcarbs, newprotein) => {\r\n    this.fat += newfat;\r\n    this.carbs += newcarbs;\r\n    this.protein += newprotein;\r\n\r\n    this.setState({\r\n      dayFat: this.fat,\r\n      dayCarbs: this.carbs,\r\n      dayProtein: this.protein,\r\n    });\r\n  };\r\n\r\n  updateNote = (newNote) => {\r\n    const { dayEntry } = this.state;\r\n\r\n    dayEntry.note = newNote;\r\n    this.setState({ dayEntry });\r\n  };\r\n\r\n  _getMealEntries = () => {\r\n    const { dayEntry } = this.state;\r\n\r\n    this.mealsEntriesCounter = 0;\r\n\r\n    return dayEntry.meals.map(this._getMealEntry);\r\n\r\n  };\r\n\r\n  _getMealEntry = (entry) => {\r\n    const me = (\r\n      <MealEntry\r\n        key={this.mealsEntriesCounter} mealEntry={entry} signalSelect={this.mealsEntriesCounter === 0}\r\n        updateDayMacros={this.updateDayMacros} updateMealFoodEntries={this.updateMealFoodEntries}\r\n        updateMealNote={this.updateMealNote} updateRemoveMeal={this.updateRemoveMeal}\r\n        updateSelectedMeal={this.updateSelectedMeal}\r\n      />);\r\n    this.mealsEntriesCounter += 1;\r\n\r\n    return me;\r\n  };\r\n\r\n  setInitialState() {\r\n    const { currentUser } = this.context;\r\n\r\n    const initialDate = currentUser.access === \"Guest\" ? new Date(\"2020-06-07\") : new Date();\r\n    this.setState({ selectedDay: dateToStr(initialDate) });\r\n\r\n    setTimeout(() => {\r\n      this.onLoadDailyMeals(this.state.selectedDay);\r\n    }, 0);\r\n  }\r\n}\r\n\r\nexport default DayArea;\r\n","/* eslint-disable no-console */\n/* eslint-disable no-alert */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-onchange */\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\r\n\r\nclass FoodItem extends React.Component {\r\n  static propTypes = {\r\n    foodItem: PropTypes.object.isRequired,\r\n    updateSelectedFood: PropTypes.func.isRequired,\r\n    signalSelect: PropTypes.bool,\r\n  };\n\n  static defaultProps = { signalSelect: false };\r\n  static defaultFoodItem = {\r\n    // entryid: 0,\r\n    foodid: 0,\r\n    foodname: \"Nothing\",\r\n    brand: \"Nowhere\",\r\n    fat: 0, carbs: 0, protein: 0,\r\n    sizeinfo: null, userid: 0, pic: \"empty.png\", price: 0,\r\n    isdish: false,\r\n    note: null,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      foodItem: (props.foodItem) ? props.foodItem : { ...FoodItem.defaultFoodItem },\r\n      isSelected: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.signalSelect) {\r\n      this.onSelectedFoodChanged(this);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.kEYUPDATE();\r\n  }\r\n\r\n  render() {\r\n    const { foodItem, isSelected } = this.state;\r\n    const { foodname, brand, fat, carbs, protein, sizeinfo } = foodItem;\r\n\r\n    return (\r\n      <div\n        className={`foodItem lineDown${isSelected ? \" feSelected\" : \"\"}`}\r\n        role=\"menuitem\" tabIndex=\"0\" onClick={this.onSelectedFoodChanged}\n      >\r\n        <span className=\"name_brand\">{`${foodname} ${brand ? `@${brand}` : \"\"}`}</span>\r\n        <span className=\"macro\">{`${fat}/${carbs}/${protein}`}</span>\r\n        <span className=\"per\">{sizeinfo === null ? \"1\" : \"100g\"}</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onSelectedFoodChanged = () => this.props.updateSelectedFood(this);\r\n\r\n  toggleSelected = () => this.setState({ isSelected: !this.state.isSelected });\r\n\r\n  kEYUPDATE() {\r\n    if (this.props.foodItem !== this.state.foodItem) {\r\n      this.setState({ foodItem: this.props.foodItem });\r\n    }\r\n  }\r\n}\r\n\r\nexport default FoodItem;\r\n","/* eslint-disable no-console */\r\n/* eslint-disable no-alert */\r\n/* eslint-disable jsx-a11y/click-events-have-key-events */\r\n/* eslint-disable jsx-a11y/no-onchange */\r\n/* eslint-disable max-lines */\r\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport FoodEntry from \"../../Components/FoodEntry\";\r\nimport FoodItem from \"../../Components/FoodItem\";\r\nimport { getServerURL } from \"../../methods\";\nimport { AppContext } from \"../../AppContext\";\r\n\r\n\r\nclass AddFoodArea extends React.Component {\r\n  static contextType = AppContext;\r\n  static propTypes = {\n    updateAddNewFoodEntry: PropTypes.func.isRequired,\n    updateAddNewMeal: PropTypes.func.isRequired,\n    updateSelectedFood: PropTypes.func.isRequired,\n  }\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.newFoodKey = \"mustchange\";\r\n    this.state = {\r\n      selectedFood: null,\r\n      amount: \"\",\r\n      measure: \"---\",\r\n\r\n      searchareaIsLoading: true,\r\n      searchTerms: \"\",\r\n      isAll: false,\r\n\r\n      newFoodForm: false,\r\n      newFoodItem: null,\r\n    };\r\n    this.foodItemsCounter = 0;\r\n    this.searchCounter = 0;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setInitialState();\r\n  }\r\n\r\n  render() {\r\n    const { amount, measure, mealareaIsLoading, searchareaIsLoading, newFoodForm } = this.state;\r\n\r\n    return (\r\n      <div className=\"addFoodArea subblock boxShow\">\r\n        {newFoodForm ? (\r\n          <div className=\"newFoodForm\">\r\n            <div className=\"newFoodHeader\">\r\n              <span className=\"textHigh\">Create New Food:</span>\r\n              <button className=\"ftButton\" onClick={this.onToggleFoodForm}>\r\n                +Select\r\n              </button>\r\n            </div>\r\n            <span>Name:</span>\r\n            <input\n              data-field=\"foodname\" maxLength=\"50\" placeholder=\"name\" type=\"text\"\r\n              onChange={this.onChangeFoodValue}\n            />\r\n            <span>Brand:</span>\r\n            <input\n              data-field=\"brand\" maxLength=\"50\" placeholder=\"brand\" type=\"text\"\r\n              onChange={this.onChangeFoodValue}\n            />\r\n            <span>Macros:</span>\r\n            <div>\r\n              <input\n                data-field=\"fat\" maxLength=\"5\" placeholder=\"0\" type=\"text\"\r\n                onChange={this.onChangeFoodValue}\n              />\r\n              <span>Fat</span>\r\n              <input\n                data-field=\"carbs\" maxLength=\"5\" placeholder=\"0\" type=\"text\"\r\n                onChange={this.onChangeFoodValue}\n              />\r\n              <span>Carbs</span>\r\n              <input\n                data-field=\"protein\" maxLength=\"5\" placeholder=\"0\" type=\"text\"\r\n                onChange={this.onChangeFoodValue}\n              />\r\n              <span>Protein</span>\r\n            </div>\r\n            <span>Per:</span>\r\n            <div>\r\n              <select className=\"smallerInput\" data-field=\"per\" onChange={this.onChangeFoodValue} >\r\n                <option>100Grams</option>\r\n                <option>1Piece</option>\r\n              </select>\r\n              <span>Piece Size:</span>\r\n              <input\n                className=\"PSInput smallerInput\" data-field=\"sizeinfo\" defaultValue=\"100\" maxLength=\"5\"\r\n                placeholder=\"null\" type=\"text\" onChange={this.onChangeFoodValue}\n              />\r\n            </div>\r\n            <span>Price:</span>\r\n            <div>\r\n              <input\n                className=\"smallerInput\" data-field=\"price\" maxLength=\"10\" placeholder=\"0\"\r\n                type=\"text\" onChange={this.onChangeFoodValue}\n              />\r\n              <div>\r\n                <span>Is Dish?</span>\r\n                <input data-field=\"isdish\" type=\"checkbox\" onChange={this.onChangeFoodValue} />\r\n              </div>\r\n            </div>\r\n            <span className=\"afaInfo\">\r\n              To add certain details (dish, composition, photo, note)or further edit foods go to Your Foods section.\r\n            </span>\r\n          </div>\r\n        ) : [\r\n          <div key=\"searchForm\" className=\"searchForm boxShow\">\r\n            <span className=\"textHigh\">Search Food: </span>\r\n            <input\n              className=\"isAll\" maxLength=\"100\" type=\"checkbox\"\r\n              onChange={this.onIsAllChange}\n            />\r\n            ALL\r\n            <button className=\"ftButton\" onClick={this.onToggleFoodForm} >\r\n              +New\r\n            </button>\r\n            <input\n              className=\"search\" placeholder=\"search text\" type=\"text\"\r\n              onChange={this.onSearchTermsChange} onKeyDown={this.onSearchKey}\n            />\r\n          </div>,\r\n          <div key=\"searchResults\" className=\"searchResults boxShow\">\r\n            {searchareaIsLoading ? \"LOADING...\" : this._getFoodItems()}\r\n          </div>,\r\n        ]}\r\n        <div className=\"amountForm boxShow\">\r\n          <span className=\"textHigh\">Quantity: </span>\r\n          <input\r\n            className=\"amountSize\" disabled={searchareaIsLoading} maxLength=\"10\"\r\n            placeholder={this._getAmountDefault()} type=\"text\" value={amount}\r\n            onChange={this.onAmountChange} onKeyDown={this.onAmountKey}\r\n          />\r\n          <select\n            disabled={searchareaIsLoading} id=\"measureSelect\" value={measure}\r\n            onChange={this.onMeasureChange}\n          >\r\n            <option className={this._getMeasureVisible(\"Grams\")}>\r\n              Grams</option>\r\n            <option className={this._getMeasureVisible(\"Pieces\")}>\r\n              Pieces</option>\r\n            <option className=\"hidden\">---</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"searchEntry boxShow\">\r\n          <span className=\"textHigh lineDown\">Current Entry:</span>\r\n          {this._currentEntry()}\r\n          <button className=\"ftButton\" disabled={searchareaIsLoading} onClick={this.onAddNewFoodEntry}>\r\n            ADD FOOD ENTRY\r\n          </button>\r\n        </div>\r\n        <hr />\r\n        <div className=\"addMealArea\">\r\n          <div>\r\n            <span className=\"textHigh\">Meal Name:</span>\r\n            <input className=\"newMName\" placeholder={\"Meal#\"} type=\"text\" />\r\n            <span className=\"textHigh\">Portion:</span>\r\n            <input className=\"newMPortion\" maxLength=\"5\" placeholder=\"1\" type=\"text\" />\r\n          </div>\r\n          <button className=\"newMeal ftButton\" disabled={mealareaIsLoading} onClick={this.onAddNewMeal}>\r\n            ADD NEW MEAL\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onSearchTermsChange = (ev) => this.setState({ searchTerms: ev.currentTarget.value },\r\n    this.loadFoodItems);\n\r\n  onIsAllChange = (ev) => this.setState({ isAll: ev.currentTarget.checked },\r\n    this.loadFoodItems);\n\r\n  onMeasureChange = (ev) => this.setState({ measure: ev.currentTarget.value });\r\n  onAmountChange = (ev) => this.setState({ amount: ev.currentTarget.value });\r\n\r\n  onSearchKey = (ev) => {\r\n    const { selectedFood } = this.state;\r\n\r\n    switch (ev.key) {\r\n      case \"Enter\":\r\n        this.onAddNewFoodEntry();\r\n        ev.preventDefault();\r\n        break;\r\n      case \"Tab\":\r\n        document.querySelector(\".amountSize\").select();\r\n        ev.preventDefault();\r\n        break;\r\n      case \"Escape\":\r\n        document.querySelector(\".search\").value = \"\";\r\n        ev.preventDefault();\r\n        break;\r\n      case \"ArrowUp\":\r\n        if (selectedFood) {\r\n          const selectedIndex = Number(selectedFood._reactInternalFiber.key);\r\n          const foodList = document.querySelectorAll(\".foodItem\");\r\n\r\n          if (selectedIndex > 0) {\r\n            foodList[selectedIndex - 1].click();\r\n          }\r\n        }\r\n        ev.preventDefault();\r\n        break;\r\n      case \"ArrowDown\":\r\n        if (selectedFood) {\r\n          const selectedIndex = Number(selectedFood._reactInternalFiber.key);\r\n          const foodList = document.querySelectorAll(\".foodItem\");\r\n\r\n          if (selectedIndex < foodList.length - 1) {\r\n            foodList[selectedIndex + 1].click();\r\n          }\r\n        }\r\n        ev.preventDefault();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  onAmountKey = (ev) => {\r\n    switch (ev.key) {\r\n      case \"Enter\":\r\n        this.onAddNewFoodEntry();\r\n        ev.preventDefault();\r\n        break;\r\n      case \"Tab\":\r\n        document.querySelector(\".search\").select();\r\n        ev.preventDefault();\r\n        break;\r\n      case \"Escape\":\r\n        document.querySelector(\".amountSize\").value = \"\";\r\n        ev.preventDefault();\r\n        break;\r\n      case \"ArrowUp\":\r\n        this.setState({ amount: this.state.amount + 1 });\r\n        ev.preventDefault();\r\n        break;\r\n      case \"ArrowDown\":\r\n        this.setState({ amount: this.state.amount - 1 });\r\n        ev.preventDefault();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\n\n  onAddNewFoodEntry = () => {\n    const { newFoodForm, newFoodItem, selectedFood, amount, measure } = this.state;\n\n    const errorMessage = this.addNewFoodEntryChecks();\n    if (errorMessage) {\n      alert(errorMessage);\n    } else {\n      const newFoodEntry = newFoodForm ? newFoodItem : selectedFood.state.foodItem;\n      newFoodEntry.amount = amount ? amount : document.querySelector(\".amountSize\").placeholder;\n      newFoodEntry.measure = measure;\n\n      this.props.updateAddNewFoodEntry(newFoodEntry);\n    }\n  };\n\n  onAddNewMeal = () => {\n    const newMName = document.querySelector(\".newMName\").value;\n    const newMPortion = document.querySelector(\".newMPortion\").value;\n    this.props.updateAddNewMeal(newMName, newMPortion);\n  };\n\n  onToggleFoodForm = () => {\n    const { newFoodForm } = this.state;\n\n    if (newFoodForm) {\n      this.setState({ newFoodForm: !newFoodForm });\n    } else {\n      this.setState({ newFoodForm: true, selectedFood: null, measure: \"Grams\", amount: 100 });\n    }\n  };\n\n  onChangeFoodValue = (ev) => {\n    const { newFoodItem } = this.state;\n    const { value } = ev.currentTarget;\n\n    const field = ev.currentTarget.getAttribute(\"data-field\");\n    const psi = document.querySelector(\".PSInput\");\n\n    switch (field) {\n      case \"per\":\n        if (value === \"1Piece\") {\n          psi.disabled = true;\n          psi.value = \"\";\n          newFoodItem.sizeinfo = null;\n          this.setState({ amount: 1 });\n        } else {\n          psi.disabled = false;\n          psi.value = 100;\n          newFoodItem.sizeinfo = 100;\n          this.setState({ amount: 100 });\n        }\n        break;\n      case \"isdish\":\n        newFoodItem.foodentries = value === true ? [] : null;\n        break;\n      case \"sizeinfo\":\n        newFoodItem[field] = value === \"\" ? null : value;\n        break;\n      case \"fat\":\n      case \"carbs\":\n      case \"protein\":\n        newFoodItem[field] = value === \"\" ? 0 : value;\n        break;\n      default:\n        newFoodItem[field] = value;\n    }\n\n    this.setState({\n      newFoodItem,\n      measure: newFoodItem.sizeinfo === null ? \"Pieces\" : \"Grams\",\n    });\n  };\n\n  loadFoodItems = (searchTerms = this.state.searchTerms, isAll = this.state.isAll) => {\n    this.setState({\n      sFoodItems: [],\n      searchareaIsLoading: true,\n    });\n\n    this.searchCounter += 1;\n    const sc = this.searchCounter;\n    const typeDelay = 200;\n    setTimeout(() => this.searchFoodItems(searchTerms, isAll, sc), typeDelay);\n  };\n\n  searchFoodItems = async(searchTerms, isAll, searchCounter) => {\n    if (searchCounter < this.searchCounter) {\n      return;\n    }\n\n    const { currentUser } = this.context;\n    let res = await fetch(`${getServerURL()}/dailymeals/foodsearch`, {\n      method: \"get\",\n      headers: {\n        \"content-type\": \"application/json\",\n        \"userid\": currentUser.userid,\n        \"search\": searchTerms,\n        \"isall\": isAll,\n      },\n    });\n    res = await res.json();\n    if (searchCounter < this.state.searchCounter) {\n      return;\n    }\n\n    if (res.length === 0) {\n      this.setState({\n        selectedFood: null,\n        measure: \"---\",\n        amount: \"\",\n      });\n    }\n    this.setState({\n      sFoodItems: res,\n      searchareaIsLoading: false,\n    });\n  };\n\n  addNewFoodEntryChecks = () => {\n    const { newFoodForm, newFoodItem, selectedFood, amount, measure } = this.state;\n\n    if (newFoodForm) {\n      if (newFoodItem.foodname === \"\") {\n        return \"New Food must have a Name !\";\n      }\n      const sum = Number(newFoodItem.fat) + Number(newFoodItem.carbs) + Number(newFoodItem.protein);\n      if (isNaN(sum) || (measure === \"Grams\" && (sum > 100 || sum <= 0))) {\n        return \"Macro value are wrong!\";\n      }\n      if (isNaN(newFoodItem.price)) {\n        return \"Price value is wrong!\";\n      }\n      if (isNaN(newFoodItem.sizeinfo) || newFoodItem.sizeinfo < 0) {\n        return \"Piece Size value is wrong!\";\n      }\n    } else if (selectedFood === null) {\n      return \"Must select a Food Item !\";\n    }\n    if (isNaN(amount)) {\n      return \"Must Enter Valid Number for Amount!\";\n    }\n\n    return \"\";\n  };\n\n  updateSelectedFood = (sender) => {\n    const { selectedFood } = this.state;\n\n    if (sender === selectedFood) {\n      return;\n    }\n    if (selectedFood) {\n      selectedFood.toggleSelected();\n    }\n    sender.toggleSelected();\n\n    this.setState({\n      selectedFood: sender,\n      amount: \"\",\n      measure: sender.state.foodItem.sizeinfo === null ? \"Pieces\" : \"Grams\",\n    });\n\n    this.props.updateSelectedFood(sender);\n  };\n\n  resetAfterAdd = () => {\n    const { newFoodForm } = this.state;\n    const { currentUser } = this.context;\n\n    if (newFoodForm) {\n      this.setState({\n        newFoodItem: {\n          foodname: \"\",\n          brand: \"\",\n          fat: 0, carbs: 0, protein: 0,\n          price: 0,\n          sizeinfo: 100,\n          isdish: false,\n          pic: \"empty.png\",\n          userid: currentUser.userid,\n          noteid: null,\n          foodentries: null,\n        },\n      });\n    } else {\n      document.querySelector(\".search\").select();\n    }\n  };\n\n  setInitialState=() => {\n    const { currentUser } = this.context;\n\n    this.setState({\n      newFoodItem: {\n        foodname: \"\",\n        brand: \"\",\n        fat: 0, carbs: 0, protein: 0,\n        price: 0,\n        sizeinfo: 100,\n        isdish: false,\n        pic: \"empty.png\",\n        userid: currentUser.userid,\n        noteid: null,\n        foodentries: null,\n      },\n    }, this.loadFoodItems);\n  };\n\r\n  _currentEntry = () => {\r\n    const { selectedFood, measure, newFoodForm, newFoodItem } = this.state;\r\n\r\n    const selectedOrNull = selectedFood ? { ...selectedFood.state.foodItem } : { ...FoodItem.defaultFoodItem };\r\n    const newEntry = newFoodForm ? newFoodItem : selectedOrNull;\r\n    newEntry.measure = measure;\r\n    newEntry.amount = this._getAmountCurrent();\r\n\n    return <FoodEntry foodEntry={newEntry} readOnly=\"true\" />;\r\n  };\r\n\r\n  _getAmountCurrent = () => {\r\n    const { amount } = this.state;\r\n\r\n    if (amount) {\n      return amount;\n    }\r\n\r\n    return this._getAmountDefault();\r\n  };\r\n\r\n  _getAmountDefault = () => {\r\n    const { selectedFood, measure } = this.state;\r\n\r\n    if (!selectedFood) {\r\n      return 0;\r\n    }\r\n    if (measure === \"Pieces\") {\r\n      return 1;\r\n    }\r\n    const { sizeinfo } = selectedFood.state.foodItem;\r\n\r\n    return sizeinfo === 0 ? 100 : sizeinfo;\r\n  };\r\n\r\n  _getMeasureVisible = (measure) => {\r\n    const { selectedFood } = this.state;\r\n    if (!selectedFood) {\r\n      return \"hidden\";\r\n    }\r\n\r\n    const { foodItem } = selectedFood.state;\r\n    if (measure === \"Grams\") {\r\n      return foodItem.sizeinfo === null ? \"hidden\" : \"\";\r\n    }\r\n    if (measure === \"Pieces\") {\r\n      return foodItem.sizeinfo === 0 ? \"hidden\" : \"\";\r\n    }\r\n\n    return \"\";\r\n  };\r\n\r\n  _getFoodItems = () => {\r\n    const { sFoodItems } = this.state;\r\n\r\n    this.foodItemsCounter = 0;\r\n\r\n    return sFoodItems.map(this._getFoodItem);\r\n\r\n  };\r\n\r\n  _getFoodItem = (item) => {\r\n    const fi = (\r\n      <FoodItem\r\n        key={this.foodItemsCounter} foodItem={item} signalSelect={this.foodItemsCounter === 0}\r\n        updateSelectedFood={this.updateSelectedFood}\r\n      />);\r\n    this.foodItemsCounter += 1;\r\n\r\n    return fi;\r\n  };\r\n}\r\n\r\nexport default AddFoodArea;\r\n","/* eslint-disable no-console */\r\n/* eslint-disable no-alert */\r\n/* eslint-disable jsx-a11y/click-events-have-key-events */\r\n/* eslint-disable jsx-a11y/no-onchange */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\n\r\nimport FoodItem from \"../../Components/FoodItem\";\r\nimport FoodEntry from \"../../Components/FoodEntry\";\r\nimport { getServerURL } from \"../../methods\";\r\nimport { AppContext } from \"../../AppContext\";\n\r\n\r\nclass FoodDetailsArea extends React.Component {\r\n  static contextType = AppContext;\r\n  static propTypes = {\r\n    isDishSelected: PropTypes.bool.isRequired,\n    updateDishSelect: PropTypes.func.isRequired,\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { selectedFoodDetails: { ...FoodItem.defaultFoodItem } };\r\n    this.foodEntriesCounter = 0;\r\n  }\r\n\r\n  render() {\r\n    const { selectedFoodDetails } = this.state;\r\n\r\n    if (!selectedFoodDetails) {\n      return (\r\n        <div className=\"foodDetailsArea subblock boxShow\">\r\n          LOADING...\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const { isDishSelected } = this.props;\r\n    const { foodname, brand, fat, carbs, protein, price, pic } = selectedFoodDetails;\r\n\r\n    const calories = ((fat * 9) + (protein * 4) + (carbs * 4)).toFixed(1);\r\n    const highlightOrNot = isDishSelected ? \" highlight\" : \"\";\r\n    const brandOrNot = brand ? `@${brand}` : \"\";\r\n    const picOrEmpty = pic === null ? \"empty.png\" : pic;\n\n    return (\r\n      <div\n        className={`foodDetailsArea subblock boxShow${highlightOrNot}`}\r\n        role=\"menuitem\" tabIndex={0} onClick={this.onDishSelect}\n      >\r\n        <div className=\"foodDetailsHeader\">\r\n          <div className=\"textHigh boxShow\">{`${foodname} ${brandOrNot}`}</div>\r\n          {/* <Note removeNote={() => { }} note={selectedFoodDetails ? selectedFoodDetails.note : null}\r\n          key={\"F\" + (selectedFoodDetails.note ? selectedFoodDetails.note.noteid : \"0\")}\r\n          />*/}\r\n        </div>\r\n        <div className=\"foodPic boxShow\">\r\n          <img alt=\"[NO FOOD PIC]\" src={`FoodPics/${picOrEmpty}`} />\r\n        </div>\r\n        <div className=\"foodInfo\">\r\n          <table>\r\n            <thead>\r\n              <tr><th>Name</th><td colSpan=\"2\">{foodname}</td></tr>\r\n              <tr><th>Brand</th><td colSpan=\"2\">{brand ? brand : \"--\"}</td></tr>\r\n              <tr><th>Macro</th><th>100g</th><th>1p</th></tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr><td>Fat</td>\r\n                <td>{this._infoForMeasure(\"Grams\", fat)}</td>\r\n                <td>{this._infoForMeasure(\"Pieces\", fat)}</td></tr>\r\n              <tr><td>Carbs</td>\r\n                <td>{this._infoForMeasure(\"Grams\", carbs)}</td>\r\n                <td>{this._infoForMeasure(\"Pieces\", carbs)}</td></tr>\r\n              <tr><td>Protein</td>\r\n                <td>{this._infoForMeasure(\"Grams\", protein)}</td>\r\n                <td>{this._infoForMeasure(\"Pieces\", protein)}</td></tr>\r\n              <tr><td>Calories</td>\r\n                <td>{this._infoForMeasure(\"Grams\", calories)}</td>\r\n                <td>{this._infoForMeasure(\"Pieces\", calories)}</td></tr>\r\n              <tr><td>Price</td>\r\n                <td>{this._infoForMeasure(\"Grams\", price)}</td>\r\n                <td>{this._infoForMeasure(\"Pieces\", price)}</td></tr>\r\n            </tbody>\r\n          </table>\r\n          {this._compositionOrNot()}\r\n          {this._dishButtonsOrNot()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onDishSelect = () => {\r\n    const { isdish } = this.state.selectedFoodDetails;\r\n    const { isDishSelected } = this.props;\r\n\r\n    if (isdish && !isDishSelected) {\r\n      this.props.updateDishSelect(true);\r\n    }\r\n  };\r\n\r\n  onCalculateDishValues = () => {\r\n    const { selectedFoodDetails } = this.state;\r\n    this.setState({ selectedFoodDetails: null },\r\n      async() => {\r\n        let fat = 0; let carbs = 0; let protein = 0;\r\n        for (const entry of selectedFoodDetails.foodentries) {\r\n          const { amount, measure, sizeinfo } = entry;\r\n          if (measure === \"Pieces\") {\r\n            if (sizeinfo === null) {\r\n              fat += (entry.fat * amount);\r\n              carbs += (entry.carbs * amount);\r\n              protein += (entry.protein * amount);\r\n            } else {\r\n              fat += (entry.fat * amount * sizeinfo / 100);\r\n              carbs += (entry.carbs * amount * sizeinfo / 100);\r\n              protein += (entry.protein * amount * sizeinfo / 100);\r\n            }\r\n          } else if (measure === \"Grams\") {\r\n            fat += (entry.fat * amount / 100);\r\n            carbs += (entry.carbs * amount / 100);\r\n            protein += (entry.protein * amount / 100);\r\n          }\r\n        }\r\n        selectedFoodDetails.fat = Number(fat.toFixed(1));\r\n        selectedFoodDetails.carbs = Number(carbs.toFixed(1));\r\n        selectedFoodDetails.protein = Number(protein.toFixed(1));\r\n\r\n        let res = await fetch(`${getServerURL()}/yourfoods`, {\r\n          method: \"post\",\r\n          headers: { \"content-type\": \"application/json\" },\r\n          body: JSON.stringify(selectedFoodDetails),\r\n        });\r\n        res = await res.json();\r\n\r\n        this.setState({ selectedFoodDetails }, () => {\r\n          console.log(res);\r\n          if (typeof res !== \"string\") {\r\n            alert(`Successfully calculated dish values: ${selectedFoodDetails.foodname} ${selectedFoodDetails.brand}!\\n\r\n            --You can view resulting entry in the console`);\r\n          } else {\r\n            alert(\"There was an Error!\");\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  onSaveDishIngr = () => {\r\n    const { selectedFoodDetails } = this.state;\r\n\r\n    this.setState({ selectedFoodDetails: null }, async() => {\r\n      const dishData = {};\r\n      dishData.dishid = selectedFoodDetails.foodid;\r\n      dishData.foodentries = [];\r\n      for (const f of selectedFoodDetails.foodentries) {\r\n        dishData.foodentries.push({ foodid: f.foodid, amount: f.amount, measure: f.measure });\r\n      }\r\n\r\n      let res = await fetch(`${getServerURL()}/dailymeals/dishupdate`, {\r\n        method: \"post\",\r\n        headers: { \"content-type\": \"application/json\" },\r\n        body: JSON.stringify(dishData),\r\n      });\r\n      res = await res.json();\r\n\r\n      this.setState({ selectedFoodDetails }, () => {\r\n        console.log(res);\r\n        if (typeof res !== \"string\") {\r\n          alert(`Successfully saved dish: ${selectedFoodDetails.foodname} ${selectedFoodDetails.brand}!\\n\r\n                      --You can view resulting entry in the console`);\r\n        } else {\r\n          alert(\"There was an Error!\");\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  updateRemoveFoodEntry = (sender) => {\r\n    const { selectedFoodDetails } = this.state;\r\n\r\n    selectedFoodDetails.foodentries.splice(sender._reactInternalFiber.key, 1);\r\n    this.setState({ selectedFoodDetails });\r\n  };\r\n\r\n  updateNewFoodEntry = (newFoodEntry) => {\r\n    const { selectedFoodDetails } = this.state;\r\n    const { currentUser } = this.context;\r\n\r\n    if (currentUser.access === \"Guest\" && selectedFoodDetails.foodentries.length >= 7) {\r\n      return \"As Guest user you cannot enter more than 7 Food Items per Dish!\";\r\n    }\r\n\r\n    selectedFoodDetails.foodentries.push(newFoodEntry);\r\n    this.setState({ selectedFoodDetails });\r\n\r\n    return \"\";\r\n  };\r\n\r\n  updateSelectedFoodDetails = (selectedFood) => this.setState({ selectedFoodDetails: null },\r\n    async() => {\r\n      const { foodid, isdish, noteid } = selectedFood.state.foodItem;\r\n\r\n      let res = await fetch(`${getServerURL()}/dailymeals/fooddetails`, {\r\n        method: \"get\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          foodid,\r\n          isdish,\r\n          \"noteid\": noteid ? noteid : null,\r\n        },\r\n      });\r\n      res = await res.json();\r\n\r\n      const newFoodDetails = selectedFood.state.foodItem;\r\n      newFoodDetails.foodentries = res.foodentries;\r\n      newFoodDetails.note = res.note;\r\n\r\n      this.setState({ selectedFoodDetails: newFoodDetails });\r\n    });\r\n\r\n  _infoForMeasure = (measureStr, infoValue) => {\r\n    const { sizeinfo } = this.state.selectedFoodDetails;\r\n    const measure = sizeinfo === null ? \"Pieces\" : \"Grams\";\r\n\r\n    return measure === measureStr ? `${infoValue}` : \"--\";\r\n  };\r\n\r\n  _compositionOrNot = () => {\r\n    const { selectedFoodDetails } = this.state;\r\n\r\n    if (selectedFoodDetails.isdish) {\r\n      this.foodEntriesCounter = 0;\r\n\n      return (\r\n        <div className=\"foodEntries boxShow\">\r\n          <div className=\"comp textHigh\">Composition:</div>\r\n          {this._getFoodEntries()}\r\n        </div>\r\n      );\r\n    }\r\n\n    return \"\";\r\n  };\r\n\r\n  _getFoodEntries = () => {\r\n    const { selectedFoodDetails } = this.state;\r\n\r\n    this.foodEntriesCounter = 0;\r\n\n    return selectedFoodDetails.foodentries.map(this._getFoodEntry);\r\n  };\n\r\n  _getFoodEntry = (entry) => {\r\n    const fe = (\r\n      <FoodEntry\r\n        key={this.foodEntriesCounter} foodEntry={entry}\r\n        updateRemoveFoodEntry={this.updateRemoveFoodEntry}\n      />);\r\n    this.foodEntriesCounter += 1;\r\n\n    return fe;\r\n  };\r\n\r\n  _dishButtonsOrNot = () => {\r\n    const { isDishSelected } = this.props;\r\n\r\n    if (isDishSelected) {\r\n      return (\r\n        <div className=\"tcenter\">\r\n          <button className=\"ftButton\" onClick={this.onSaveDishIngr}>SAVE ENTRIES</button>\r\n          <button className=\"ftButton\" onClick={this.onCalculateDishValues}>CALC VALUES</button>\r\n        </div>\r\n      );\r\n    }\r\n\n    return \"\";\r\n  };\r\n}\r\n\r\nexport default FoodDetailsArea;\r\n","/* eslint-disable no-console */\r\n/* eslint-disable no-alert */\r\n/* eslint-disable jsx-a11y/click-events-have-key-events */\r\n/* eslint-disable jsx-a11y/no-onchange */\r\nimport React from \"react\";\r\nimport \"../Css/DailyMeals.css\";\r\n\r\nimport { AppContext } from \"../AppContext\";\n\r\nimport DayArea from \"./PagePanels/DayArea\";\r\nimport AddFoodArea from \"./PagePanels/AddFoodArea\";\r\nimport FoodDetailsArea from \"./PagePanels/FoodDetailsArea\";\r\n\r\n\r\nclass DailyMeals extends React.Component {\r\n  static contextType = AppContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      dayArea: null,\r\n      addFoodArea: null,\r\n      foodDetailsArea: null,\r\n      isDishSelected: false,\r\n    };\r\n  }\n\n  render() {\n    const { isDishSelected } = this.state;\n\n    return (\n      <main className=\"mainDailyMeals boxShow\" >\n        <DayArea ref={this.dayAreaRef} updateDishSelect={this.updateDishSelect} />\n        <AddFoodArea\n          ref={this.addFoodAreaRef} updateAddNewFoodEntry={this.updateAddNewFoodEntry}\n          updateAddNewMeal={this.updateAddNewMeal} updateSelectedFood={this.updateSelectedFood}\n        />\n        <FoodDetailsArea\n          ref={this.foodDetailsAreaRef} isDishSelected={isDishSelected}\n          updateDishSelect={this.updateDishSelect}\n        />\n      </main>\n    );\n  }\r\n\r\n  dayAreaRef = (node) => this.setState({ dayArea: node });\r\n  addFoodAreaRef = (node) => this.setState({ addFoodArea: node });\r\n  foodDetailsAreaRef = (node) => this.setState({ foodDetailsArea: node });\r\n\r\n  updateAddNewMeal = (mealName, portion) => {\r\n    const errorMessage = this.state.dayArea.updateAddNewMeal(mealName, portion);\r\n    if (errorMessage) {\r\n      alert(errorMessage);\r\n    } else {\r\n      this.state.addFoodArea.resetAfterAdd();\r\n    }\r\n  };\n\r\n  updateSelectedFood = (selectedFood) => {\r\n    const { isDishSelected } = this.state;\r\n\r\n    if (!isDishSelected) {\r\n      this.state.foodDetailsArea.updateSelectedFoodDetails(selectedFood);\r\n    }\r\n  };\r\n\r\n  updateAddNewFoodEntry = (newFoodEntry) => {\r\n    const { isDishSelected } = this.state;\r\n\r\n    let errorMessage = \"\";\r\n    if (isDishSelected) {\r\n      errorMessage = this.state.foodDetailsArea.updateNewFoodEntry(newFoodEntry);\r\n    } else {\r\n      errorMessage = this.state.dayArea.updateNewFoodEntry(newFoodEntry);\r\n    }\r\n\r\n    if (errorMessage) {\r\n      alert(errorMessage);\r\n    } else {\r\n      this.state.addFoodArea.resetAfterAdd();\r\n    }\r\n  };\r\n\r\n  updateDishSelect = (status) => {\r\n    if (status) {\r\n      this.state.dayArea.updateSelectedMeal(null);\r\n    }\r\n    this.setState({ isDishSelected: status });\r\n  };\r\n}\r\n\r\nexport default DailyMeals;\r\n","import React from \"react\";\n\r\n\r\nconst YourFood = () => (\r\n  <main className=\"boxShow\">\r\n    <div className=\"subblock\">\r\n      <h1>YOUR FOOD!</h1>\r\n    </div>\r\n  </main>\r\n);\r\n\r\nexport default YourFood;\r\n","import React from \"react\";\n\r\n\r\nconst YourPlans = () => (\r\n  <main className=\"boxShow\">\r\n    <div className=\"subblock\">\r\n      <h1>YOUR PLANS!</h1>\r\n    </div>\r\n  </main>\r\n);\r\n\r\nexport default YourPlans;\r\n","import React from \"react\";\n\r\n\r\nconst YourStats = () => (\r\n  <main className=\"boxShow\">\r\n    <div className=\"subblock\">\r\n      <h1>YOUR STATS!</h1>\r\n    </div>\r\n  </main>\r\n);\r\n\r\nexport default YourStats;\r\n","import React from \"react\";\n\r\n\r\nconst GlobalStats = () => (\r\n  <main className=\"boxShow\">\r\n    <div className=\"subblock\">\r\n      <h1>GLOBAL STATS!</h1>\r\n    </div>\r\n  </main>\r\n);\r\n\r\nexport default GlobalStats;\r\n","import React from \"react\";\n\r\n\r\nconst UsersData = () => (\r\n  <main className=\"boxShow\">\r\n    <div className=\"subblock\">\r\n      <h1>USERS DATA!</h1>\r\n    </div>\r\n  </main>\r\n);\r\n\r\nexport default UsersData;\r\n","/* eslint-disable no-console */\n/* eslint-disable no-alert */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-onchange */\nimport React from \"react\";\n\r\nimport \"../Css/UserForms.css\";\r\nimport { AppContext } from \"../AppContext\";\nimport { getServerURL } from \"../methods\";\n\r\n\r\nclass Profile extends React.Component {\r\n  static contextType = AppContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      passNow: \"\",\r\n      passNew: \"\",\r\n      passConfirm: \"\",\r\n\r\n      warning: null,\r\n      isLoading: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setInitialState();\r\n  }\r\n\r\n  render() {\r\n    const { username, email, firstname, lastname, dob, sex, describe, pic, diet, warning, isLoading } = this.state;\r\n\r\n    return (\r\n      <main className=\"mainUserForm boxShow\">\r\n        <form className=\"userform subblock boxShow\" onReset={this.onResetChanges} onSubmit={this.onChangeProfile}>\r\n          <h1 className=\"lineDown\">Profile Info</h1>\r\n          <div className=\"fields\">\r\n            <span>Username:</span>\r\n            <input\n              data-field=\"username\" minLength=\"3\" name=\"username\" type=\"text\" value={username}\r\n              onChange={this.onUserValueChanged}\n            />\r\n            <span className={`warning${warning === \"username\" ? \"\" : \" hidden\"}`}>Username is Already Taken!</span>\r\n            <span>Email:</span>\r\n            <input\n              data-field=\"email\" name=\"email\" type=\"text\" value={email}\r\n              onChange={this.onUserValueChanged}\n            />\r\n            <span className={`warning${warning === \"email\" ? \"\" : \" hidden\"}`}>Email is Already Taken!</span>\r\n            <div className=\"personal\">\r\n              <div>\r\n                <img alt=\"[NO PIC]\" src={`UserPics/${pic}`} /><br />\r\n                <button className=\"ftButton\" disabled={isLoading} onClick={this.onBrowseUserPic}>Browse</button>\r\n              </div>\r\n              <div>\r\n                <span>Description:</span><br />\r\n                <textarea\n                  data-field=\"describe\" placeholder=\"Say who you are in a few short phrases..\"\r\n                  value={describe} onChange={this.onUserValueChanged}\n                />\r\n              </div>\r\n            </div>\r\n            <span>First Name:</span>\r\n            <input\n              data-field=\"firstname\" name=\"firstname\" type=\"text\" value={firstname}\r\n              onChange={this.onUserValueChanged}\n            />\r\n            <span>Last Name:</span>\r\n            <input\n              data-field=\"lastname\" name=\"lastname\" type=\"text\" value={lastname}\r\n              onChange={this.onUserValueChanged}\n            />\r\n            <div>\r\n              <span>Sex:</span>\r\n              <input\n                checked={sex === \"1\"} data-field=\"sex\" name=\"sex\" type=\"radio\"\r\n                value=\"1\" onChange={this.onUserValueChanged}\n              />\r\n              <span>Male </span>\r\n              <input\n                checked={sex === \"0\"} data-field=\"sex\" name=\"sex\" type=\"radio\"\r\n                value=\"0\" onChange={this.onUserValueChanged}\n              />\r\n              <span>Female</span>\r\n            </div>\r\n            <span>Date Of Birth:</span>\r\n            <input data-field=\"dob\" name=\"dob\" type=\"date\" value={dob} onChange={this.onUserValueChanged} />\r\n            <span className={`warning${warning === \"dob\" ? \"\" : \" hidden\"}`}>Incorrect date!</span>\r\n            <span>Diet Plans:</span>\r\n            <select data-field=\"diet\" value={diet ? diet : \"none\"} onChange={this.onUserValueChanged}>\r\n              <option>none</option>\r\n              <option>Calorie Restrict</option>\r\n              <option>Paleo</option>\r\n              <option>Keto</option>\r\n              <option>Mediterranian</option>\r\n              <option>Vegetarian</option>\r\n              <option>Vegan</option>\r\n              <option>Carnivore</option>\r\n              <option>Low Carb</option>\r\n              <option>Low Fat</option>\r\n              <option>PSMF</option>\r\n              <option>Specific/Personal Plan</option>\r\n            </select>\r\n            <div className=\"profileButtons\">\r\n              <input className=\"ftButton\" disabled={isLoading} type=\"submit\" value=\"Save Changes\" />\r\n              <input className=\"ftButton\" disabled={isLoading} type=\"reset\" value=\"Cancel\" />\r\n            </div>\r\n          </div>\r\n        </form>\r\n\r\n        <form className=\"userform subblock boxShow\" onSubmit={this.onChangePassword}>\r\n          <h1 className=\"lineDown\">Change Password</h1>\r\n          <div className=\"fields\">\r\n            <span>Current Password:</span>\r\n            <input\n              data-field=\"passNow\" minLength=\"8\" name=\"passNow\" type=\"password\"\r\n              onChange={this.onUserValueChanged}\n            />\r\n            <span>New Password: </span>\r\n            <input\n              data-field=\"passNew\" minLength=\"8\" name=\"passNew\" type=\"password\"\r\n              onChange={this.onUserValueChanged}\n            />\r\n            <span className={`warning${warning === \"passNew\" ? \"\" : \" hidden\"}`}>Invalid Password!</span>\r\n            <span className=\"detail\">Password must be at least 8characters+ and have both numbers and letters!</span>\r\n            <span>Confirm New Password:</span>\r\n            <input\n              data-field=\"passConfirm\" minLength=\"8\" name=\"passConfirm\" type=\"password\"\r\n              onChange={this.onUserValueChanged}\n            />\r\n            <span className={`warning${warning === \"passConfirm\" ? \"\" : \" hidden\"}`}>Passwords do Not Match!</span>\r\n            <div className=\"profileButtons\">\r\n              <input className=\"ftButton\" disabled={isLoading} type=\"submit\" value=\"Save Changes\" />\r\n              <input className=\"ftButton\" disabled={isLoading} type=\"reset\" value=\"Cancel\" />\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  onUserValueChanged = (ev) => {\r\n    const field = ev.currentTarget.getAttribute(\"data-field\");\r\n    const newStateObj = {};\r\n    newStateObj[field] = ev.currentTarget.value;\r\n    this.setState(newStateObj);\r\n  }\r\n\r\n  onResetChanges = (ev) => {\r\n    ev.preventDefault();\r\n    this.setInitialState();\r\n  };\r\n\r\n  onBrowseUserPic = (ev) => {\r\n    ev.preventDefault();\r\n\r\n    alert(\"Sorry. Not implemented yet...\");\r\n  };\r\n\r\n  onChangeProfile = (ev) => {\r\n    ev.preventDefault();\r\n    this.setState({ isLoading: true }, this.changeProfile);\r\n  };\r\n\r\n  onChangePassword = (ev) => {\r\n    ev.preventDefault();\r\n    this.setState({ isLoading: true }, this.changePassword);\r\n  };\r\n\r\n  changeProfile = async() => {\r\n    try {\r\n      const { username, email, firstname, lastname, dob, sex, describe, pic, diet } = this.state;\r\n      const { updateUserProfile, currentUser } = this.context;\r\n\r\n      if (dob !== \"\" && new Date(dob) > new Date()) {\r\n        this.setState({ warning: \"dob\" });\r\n      } else {\r\n        let res = await fetch(`${getServerURL()}/profile`, {\r\n          method: \"post\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            userid: currentUser.userid,\r\n            username,\r\n            email,\r\n            firstname: firstname === \"\" ? null : firstname,\r\n            lastname: lastname === \"\" ? null : lastname,\r\n            dob: dob === \"\" ? null : dob,\r\n            sex: sex === \"\" ? null : sex,\r\n            describe: describe === \"\" ? null : describe,\r\n            pic: pic === \"\" ? null : pic,\r\n            diet: diet === \"none\" ? null : diet,\r\n          }),\r\n        });\r\n        res = await res.json();\r\n\r\n        if (res.includes(\"Username\")) {\r\n          this.setState({ warning: \"username\" });\r\n        } else if (res.includes(\"Email\")) {\r\n          this.setState({ warning: \"email\" });\r\n        } else if (res === \"User Profile Updated!\") {\r\n          updateUserProfile(this.state);\r\n        } else {\r\n          console.log(res);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(\"___________ERROR___________\\n\", err.message);\r\n    } finally {\r\n      this.setState({ isLoading: false });\r\n    }\r\n  };\r\n\r\n  changePassword = async() => {\r\n    try {\r\n      const { passNow, passNew, passConfirm } = this.state;\r\n      const { currentUser } = this.context;\r\n      const passRegex = /^(?=.*?\\d)(?=.*?[a-zA-Z]).+$/;\r\n\r\n      if (!passNew.match(passRegex)) {\r\n        this.setState({ warning: \"passNew\" });\r\n      } else if (passNew !== passConfirm) {\r\n        this.setState({ warning: \"passConfirm\" });\r\n\r\n      } else {\r\n        let res = await fetch(`${getServerURL()}/profile/changepass`, {\r\n          method: \"post\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            userid: currentUser.userid,\r\n            oldpass: passNow,\r\n            newpass: passNew,\r\n          }),\r\n        });\r\n        res = await res.json();\r\n        console.log(res);\r\n      }\r\n    } catch (err) {\r\n      console.log(\"___________ERROR___________\\n\", err.message);\r\n    } finally {\r\n      this.setState({ isLoading: false });\r\n    }\r\n  };\r\n\r\n  setInitialState() {\r\n    const { username, email, firstname, lastname, dob, sex, describe, pic, diet } = this.context.currentUser;\r\n\r\n    this.setState({\r\n      username,\r\n      email,\r\n      firstname,\r\n      lastname,\r\n      dob,\r\n      sex,\r\n      describe,\r\n      pic,\r\n      diet,\r\n    });\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","/* eslint-disable no-console */\n/* eslint-disable no-alert */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-onchange */\nimport React from \"react\";\n\r\nimport \"../Css/UserForms.css\";\r\nimport { AppContext } from \"../AppContext\";\r\nimport { getServerURL } from \"../methods\";\r\n\r\n// import { NavLink } from 'react-router-dom';\r\n\r\nclass Login extends React.Component {\r\n  static contextType = AppContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: \"\",\r\n      pass: \"\",\r\n\r\n      warningMsg: null,\r\n      isLoading: false,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { warningMsg, isLoading } = this.state;\r\n\r\n    return (\r\n      <main className=\"mainUserForm boxShow\">\r\n        <form className=\"userform subblock boxShow\" onSubmit={this.onLogin}>\r\n          <h1 className=\"lineDown\">Enter Username/Email and Password to Login!</h1>\r\n          <div className=\"fields\">\r\n            <span>Username/Email:</span>\r\n            <input name=\"username\" type=\"text\" onChange={this.onUserChange} />\r\n            <span>Password:</span>\r\n            <input name=\"password\" type=\"password\" onChange={this.onPassChange} />\r\n            <span disabled={isLoading}>\r\n              Remember Me?\r\n              <input name=\"member\" type=\"checkbox\" />\r\n            </span>\r\n            <span className={warningMsg === null ? \"hidden\" : \"warning\"}>{this.state.warningMsg}</span>\r\n            <input className=\"ftButton\" disabled={isLoading} type=\"submit\" value=\"Login\" />\r\n          </div>\r\n          {/*\n        <div className=\"loglinks\">\n        <NavLink to=\"/\">Forgot Password?</NavLink>\n        <NavLink to=\"/Register\">New here? Go Register!</NavLink>\n        </div>\n        */}\r\n          <div className=\"loglinks\">\r\n            <span data-page=\"Home\" disabled={isLoading} role=\"link\" onClick={this.onLinkPress}>\r\n              Forgot Password?</span>\r\n            <span data-page=\"Register\" disabled={isLoading} role=\"link\" onClick={this.onLinkPress}>\r\n              New here? Go Register!</span>\r\n          </div>\r\n        </form>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  onUserChange = (ev) => this.setState({ username: ev.currentTarget.value });\r\n  onPassChange = (ev) => this.setState({ pass: ev.currentTarget.value });\r\n  onLinkPress = (ev) => this.context.changeMainPage(ev.currentTarget.getAttribute(\"data-page\"));\r\n\r\n  onLogin = (ev) => {\r\n    ev.preventDefault();\r\n    this.setState({ isLoading: true }, this.loginUser);\r\n  };\r\n\r\n  loginUser = async() => {\r\n    try {\r\n      const { username, pass } = this.state;\r\n      const { updateUser, changeMainPage } = this.context;\r\n      const successStatus = 200;\r\n\r\n      let res = await fetch(`${getServerURL()}/login`, {\r\n        method: \"post\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          username,\r\n          pass,\r\n        }),\r\n      });\r\n      if (res.status === successStatus) {\r\n        res = await res.json();\r\n        if (typeof res === \"string\") {\r\n          this.setState({ warningMsg: res });\r\n        } else {\r\n          updateUser(res);\r\n          changeMainPage(\"Profile\");\r\n        }\r\n      } else {\r\n        console.log(res);\r\n      }\r\n    } catch (err) {\r\n      console.log(\"___________ERROR___________\\n\", err.message);\r\n    } finally {\r\n      this.setState({ isLoading: false });\r\n    }\r\n  };\r\n}\r\n\r\nexport default Login;\r\n","/* eslint-disable no-console */\n/* eslint-disable no-alert */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-onchange */\nimport React from \"react\";\n\r\nimport \"../Css/UserForms.css\";\r\nimport { AppContext } from \"../AppContext\";\nimport { getServerURL } from \"../methods\";\n\r\n\r\nclass Register extends React.Component {\r\n  static contextType = AppContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: null,\r\n      email: null,\r\n      pass: null,\r\n      passC: null,\r\n      firstname: null,\r\n      lastname: null,\r\n      dob: null,\r\n      sex: null,\r\n      pic: null,\r\n      desc: null,\r\n      diet: null,\r\n\r\n      warning: null,\r\n      isLoading: false,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { sex, warning, isLoading } = this.state;\r\n\r\n    return (\r\n      <main className=\"mainUserForm boxShow\">\r\n        <form className=\"userform subblock boxShow\" onSubmit={this.onRegister}>\r\n          <h1 className=\"lineDown\">Please Complete Required fields to Register</h1>\r\n          <div className=\"fields\">\r\n            <span className=\"req\">Username*:</span>\r\n            <input\n              data-field=\"username\" name=\"username\" pattern=\".{3,}\" required={true}\r\n              title=\"3 characters minimum\" type=\"text\" onChange={this.onUserValueChanged}\n            />\r\n            <span className={`warning${warning === \"username\" ? \"\" : \" hidden\"}`}>Username is Already Taken!</span>\r\n            <span className=\"req\">Email*:</span>\r\n            <input data-field=\"email\" name=\"email\" type=\"email\" onChange={this.onUserValueChanged} />\r\n            <span className={`warning${warning === \"email\" ? \"\" : \" hidden\"}`}>Email is Already Taken!</span>\r\n            <span className=\"req\">Password*:</span>\r\n            <input\n              className=\"pass\" data-field=\"pass\" minLength=\"8\" name=\"passw\"\r\n              type=\"password\" onChange={this.onUserValueChanged}\n            />\r\n            <span className={`warning${warning === \"pass\" ? \"\" : \" hidden\"}`}>Invalid Password!</span>\r\n            <span className=\"detail\">Password must be at least 8characters and have both numbers and letters!</span>\r\n            <span className=\"req\">Confirm Password*:</span>\r\n            <input data-field=\"passC\" minLength=\"8\" name=\"passC\" type=\"password\" onChange={this.onUserValueChanged} />\r\n            <span className={`warning${warning === \"passC\" ? \"\" : \" hidden\"}`}>Passwords do Not Match!</span>\r\n            <span>First Name:</span>\r\n            <input data-field=\"firstname\" name=\"firstname\" type=\"text\" onChange={this.onUserValueChanged} />\r\n            <span>Last Name:</span>\r\n            <input data-field=\"lastname\" name=\"lastname\" type=\"text\" onChange={this.onUserValueChanged} />\r\n            <span>Date Of Birth:</span>\r\n            <input data-field=\"dob\" name=\"dob\" type=\"date\" onChange={this.onUserValueChanged} />\r\n            <span className={`warning${warning === \"dob\" ? \"\" : \" hidden\"}`}>Incorrect date!</span>\r\n            <div>\r\n              <span>Sex:</span>\r\n              <input\n                checked={sex === \"1\"} data-field=\"sex\" name=\"sex\" type=\"radio\"\r\n                value=\"1\" onChange={this.onUserValueChanged}\n              />\r\n              <span>Male </span>\r\n              <input\n                checked={sex === \"0\"} data-field=\"sex\" name=\"sex\" type=\"radio\"\r\n                value=\"0\" onChange={this.onUserValueChanged}\n              />\r\n              <span>Female</span>\r\n            </div>\r\n            <div className=\"personal\">\r\n              <div>\r\n                <img alt=\"[NO PIC]\" src=\"UserPics/profileEmpty.png\" /><br />\r\n                <button className=\"ftButton\" disabled={isLoading} onClick={this.onBrowseUserPic}>Browse</button>\r\n              </div>\r\n              <div>\r\n                <span>Short Description:</span><br />\r\n                <textarea\n                  data-field=\"describe\" placeholder=\"Say who you are in a few short phrases..\"\n                  onChange={this.onUserValueChanged}\n                />\r\n              </div>\r\n            </div>\r\n            <span>Diet Plans?</span>\r\n            <select data-field=\"diet\" onChange={this.onUserValueChanged}>\r\n              <option>none</option>\r\n              <option>Calorie Restrict</option>\r\n              <option>Paleo</option>\r\n              <option>Keto</option>\r\n              <option>Mediterranian</option>\r\n              <option>Vegetarian</option>\r\n              <option>Vegan</option>\r\n              <option>Carnivore</option>\r\n              <option>Low Carb</option>\r\n              <option>Low Fat</option>\r\n              <option>PSMF</option>\r\n              <option>Specific Personal Plan</option>\r\n            </select>\r\n            <span className=\"detail\">-Pick a Diet from list if any of them apply to You\r\n              - Can always change it later!</span>\r\n            <span className=\"detail\">(This Choice is simply for tracking stats\r\n              - Will Not affect results &recommendations)</span>\r\n            <input className=\"ftButton\" disabled={isLoading} type=\"submit\" value=\"Register\" />\r\n          </div>\r\n        </form>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  onUserValueChanged = (ev) => {\r\n    const field = ev.currentTarget.getAttribute(\"data-field\");\r\n    const newStateObj = {};\r\n    newStateObj[field] = ev.currentTarget.value;\r\n    this.setState(newStateObj);\r\n  }\r\n\r\n  onBrowseUserPic = (ev) => {\r\n    ev.preventDefault();\r\n    alert(\"Sorry. Not implemented yet...\");\r\n  }\r\n\r\n  onRegister = (ev) => {\r\n    ev.preventDefault();\r\n    this.setState({ isLoading: true }, this.registerUser);\r\n  };\r\n\r\n  registerUser = async() => {\r\n    try {\r\n      const { pass, passC, username, email, firstname, lastname, dob, sex, describe, pic, diet } = this.state;\r\n      const { changeMainPage } = this.context;\r\n      const passRegex = /^(?=.*?\\d)(?=.*?[a-zA-Z]).+$/;\r\n\r\n      if (!pass.match(passRegex)) {\r\n        this.setState({ warning: \"pass\" });\r\n      } else if (pass !== passC) {\r\n        this.setState({ warning: \"passC\" });\r\n      } else if (dob !== \"\" && new Date(dob) > new Date()) {\r\n        this.setState({ warning: \"dob\" });\r\n\r\n      } else {\r\n        let res = await fetch(`${getServerURL()}/register`, {\r\n          method: \"put\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            username,\r\n            email,\r\n            firstname: firstname === \"\" ? null : firstname,\r\n            lastname: lastname === \"\" ? null : lastname,\r\n            dob: dob === \"\" ? null : dob,\r\n            sex: sex === \"\" ? null : sex,\r\n            describe: describe === \"\" ? null : describe,\r\n            pic: pic === \"\" ? null : pic,\r\n            diet: diet === \"none\" ? null : diet,\r\n            pass,\r\n          }),\r\n        });\r\n        res = await res.json();\r\n\r\n        if (res.userid) {\r\n          changeMainPage(\"Login\");\r\n        } else if (res.includes(\"Username\")) {\r\n          this.setState({ warning: \"username\" });\r\n        } else if (res.includes(\"Email\")) {\r\n          this.setState({ warning: \"email\" });\r\n        } else {\r\n          console.log(res);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.log(\"___________ERROR___________\\n\", err.message);\r\n    } finally {\r\n      this.setState({ isLoading: false });\r\n    }\r\n  }\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\n\r\n\r\nconst Error = () => (\r\n  <main className=\"boxShow\">\r\n    <div className=\"subblock\">\r\n      <h1>Error! Page does not exist!</h1>\r\n    </div>\r\n  </main>\r\n);\r\n\r\nexport default Error;\r\n","// import { Route, Switch } from 'react-router-dom';\r\n//\r\n// const Main = () => {\r\n//    return (\r\n//        <Switch>\r\n//            <Route path=\"/\" component={Home} exact/>\r\n//            <Route path=\"/DailyMeals\" component={DailyMeals} />\r\n//            <Route path=\"/YourFood\" component={YourFood} />\r\n//            <Route path=\"/YourPlans\" component={YourPlans} />\r\n//            <Route path=\"/YourStats\" component={YourStats} />\r\n//            <Route path=\"/GlobalStats\" component={GlobalStats} />\r\n//            <Route path=\"/GlobalData\" component={GlobalData} />\r\n//            <Route path=\"/Login\" component={Login} />\r\n//            <Route path=\"/Register\" component={Register} />\r\n//            <Route component={Error} />\r\n//        </Switch>\r\n//    );\r\n// }\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Home from \"../MainPages/Home\";\r\nimport DailyMeals from \"../MainPages/DailyMeals\";\r\nimport YourFood from \"../MainPages/YourFood\";\r\nimport YourPlans from \"../MainPages/YourPlans\";\r\nimport YourStats from \"../MainPages/YourStats\";\r\nimport GlobalStats from \"../MainPages/GlobalStats\";\r\nimport GlobalData from \"../MainPages/UsersData\";\r\nimport Profile from \"../MainPages/Profile\";\r\nimport Login from \"../MainPages/Login\";\r\nimport Register from \"../MainPages/Register\";\r\nimport Error from \"../MainPages/Error\";\n\r\n\r\nclass Main extends React.Component {\r\n  static propTypes = { page: PropTypes.string.isRequired };\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { page: props.page ? props.page : \"Home\" };\r\n  }\r\n\r\n  render() {\r\n    switch (this.state.page) {\r\n      case \"Home\":\r\n        return <Home />;\r\n      case \"DailyMeals\":\r\n        return <DailyMeals />;\r\n      case \"YourFood\":\r\n        return <YourFood />;\r\n      case \"YourPlans\":\r\n        return <YourPlans />;\r\n      case \"YourStats\":\r\n        return <YourStats />;\r\n      case \"GlobalStats\":\r\n        return <GlobalStats />;\r\n      case \"GlobalData\":\r\n        return <GlobalData />;\r\n      case \"Profile\":\r\n        return <Profile />;\r\n      case \"Register\":\r\n        return <Register />;\r\n      case \"Login\":\r\n        return <Login />;\r\n      default:\r\n        return <Error />;\r\n    }\r\n  }\r\n\r\n  changePage = (newPage) => {\r\n    const { page } = this.state;\r\n\r\n    if (page !== newPage) {\n      this.setState({ page: newPage });\n    }\r\n  };\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\n\r\n\r\nclass Footer extends React.Component {\r\n    render = () => (\r\n      <footer className=\"subblock boxShow\">\r\n        <h3 className=\"author\">--Made by Rotariu Stefan<sub> - StravoS</sub></h3>\r\n      </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\n\nimport Header from \"./Sections/Header\";\r\nimport Nav from \"./Sections/Nav\";\r\nimport Main from \"./Sections/Main\";\r\nimport Footer from \"./Sections/Footer\";\nimport { AppContext, defaultUser } from \"./AppContext\";\nimport { dateToStr } from \"./methods\";\n\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentUser: defaultUser,\r\n      main: null,\r\n      footer: null,\r\n      header: null,\r\n      nav: null,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <AppContext.Provider\n        value={ {\n          currentUser: this.state.currentUser,\r\n          updateUser: this.updateUser,\n          updateUserProfile: this.updateUserProfile,\n          changeMainPage: this.changeMainPage,\n        } }\n      >\r\n        <div className=\"layout\">\r\n          <Header key=\"H\" ref={this.headerRef} />\r\n          <Nav key=\"N\" ref={this.navRef} />\r\n          <Main key=\"M\" ref={this.mainRef} page=\"Home\" />\r\n          <Footer key=\"F\" ref={this.footerRef} />\r\n        </div>\r\n      </AppContext.Provider>\r\n    );\r\n  }\r\n\r\n  headerRef = (node) => this.setState({ header: node });\r\n  navRef = (node) => this.setState({ nav: node });\r\n  mainRef = (node) => this.setState({ main: node });\r\n  footerRef = (node) => this.setState({ footer: node });\r\n  changeMainPage = (newPage) => this.state.main.changePage(newPage);\r\n\r\n  updateUser = (data) => {\r\n    if (data === null) {\r\n      this.setState({ currentUser: defaultUser });\r\n      this.state.header.updateUser(false);\r\n    } else {\r\n      data.dob = dateToStr(new Date(data.dob));\r\n      this.setState({ currentUser: data });\r\n      this.state.header.updateUser(true);\r\n    }\r\n  };\r\n\r\n  updateUserProfile = (data) => {\r\n    const { currentUser } = this.state;\r\n\r\n    currentUser.username = data.username;\r\n    currentUser.email = data.email;\r\n    currentUser.firstname = data.firstname;\r\n    currentUser.lastname = data.lastname;\r\n    currentUser.dob = data.dob;\r\n    currentUser.sex = data.sex;\r\n    currentUser.describe = data.describe;\r\n    currentUser.pic = data.pic;\r\n    currentUser.diet = data.diet;\r\n\r\n    this.setState({ currentUser });\r\n  };\r\n}\r\n\r\nexport default App;\r\n","// import { BrowserRouter } from 'react-router-dom';\r\n//\r\n// ReactDOM.render(\r\n//    <BrowserRouter>\r\n//        <Header />\r\n//        <Nav />\r\n//        <Main />\r\n//        <Footer />\r\n//    </BrowserRouter>,\r\n//    document.querySelector(\"#root\"));\r\n\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\n\r\nimport App from \"./App\";\n\r\n\r\nReactDOM.render(<App />,\r\n  document.querySelector(\"#root\"));\r\n"],"sourceRoot":""}