{"version":3,"sources":["methods.js","AppContext.js","Sections/Header.js","Sections/Nav.js","MainPages/Home.js","Components/NoteView.js","Components/Note.js","Components/FoodEntry.js","Components/MealEntry.js","MainPages/PagePanels/DayArea.js","Components/FoodItem.js","MainPages/PagePanels/AddFoodArea.js","MainPages/PagePanels/FoodDetailsArea.js","MainPages/DailyMeals.js","MainPages/YourFood.js","MainPages/YourPlans.js","MainPages/YourStats.js","MainPages/GlobalStats.js","MainPages/UsersData.js","MainPages/Profile.js","MainPages/Login.js","MainPages/Register.js","MainPages/Error.js","Sections/Main.js","Sections/Footer.js","App.js","index.js"],"names":["dateToStr","dateObj","getFullYear","getMonth","toString","getDate","getServerURL","svData","serverLink","defaultUser","userid","username","email","firstname","lastname","dob","Date","sex","describe","pic","diet","defaultmeals","access","AppContext","React","createContext","currentUser","changeMainPage","updateUser","Header","props","render","isLogged","state","context","className","alt","src","id","onClick","onLogClick","newIsLogged","setState","Component","contextType","Nav","Home","NoteView","componentDidMount","signalSelect","selectedChanged","isSelected","note","score","title","notetext","ev","toggleSelected","Note","onRemoveNote","removeNote","onEditAddNote","isValues","isEdit","isEditValues","loadNoteViews","onSelectedNoteViewChanged","sender","selectedNoteView","searchNoteViews","searchTerms","searchCounter","a","noteViewCounter","userId","fetch","method","headers","res","json","noteViews","first","n","push","key","noteViewsIsLoading","sc","setTimeout","setNote","newScore","newTitle","newText","updateAttach","options","i","this","isMin","checked","name","_reactInternalFiber","type","value","onChange","defaultValue","currentTarget","maxLength","FoodEntry","onRemoveFoodEntry","fatRes","carbsRes","proteinRes","updateRemoveFoodEntry","updateMealMacros","getMacroRes","mstr","foodEntry","amount","measure","sizeinfo","Number","toFixed","initFoodEntry","foodItem","defaultFoodEntry","foodname","brand","fat","carbs","protein","brandOrNot","removeImgOrNot","readOnly","defaultProps","foodid","price","isdish","MealEntry","onMealSelect","updateSelectedMeal","onRemoveMeal","updateRemoveMeal","updateDayMacros","mealEntry","updateMealNote","newNote","foodentries","splice","updateNewFoodEntry","newFat","newCarbs","newProtein","portion","toggleHighlight","isHighlighted","toggleMinMax","stopPropagation","_getFoodEntries","foodEntriesCounter","map","_getFoodEntry","entry","fe","defaultMealEntry","mealname","role","tabIndex","DayArea","onLoadDailyMeals","dayParam","day","alert","mealareaIsLoading","selectedMeal","dayEntry","dayFat","dayCarbs","dayProtein","selectedDay","onDayOffset","d","setDate","getAttribute","onCommit","searchareaIsLoading","dayPutReq","date","body","JSON","stringify","console","log","onAddNewMeal","mealName","meals","length","isNaN","newMealEntry","noteid","updateDishSelect","newFoodEntry","newfat","newcarbs","newprotein","updateDayNote","_getMealEntries","mealsEntriesCounter","_getMealEntry","me","updateMealFoodEntries","setInitialState","initialDate","mealsAreaOrLoading","noteOrLoading","data-offset","disabled","FoodItem","onSelectedFoodChanged","updateSelectedFood","defaultFoodItem","selectedOrNot","per","AddFoodArea","onLoadSearchFoodItems","isAll","sFoodItems","selectedFood","onSearchKey","onAddNewFoodEntry","preventDefault","document","querySelector","select","querySelectorAll","click","onAmountKey","newFoodForm","newFoodItem","errorMessage","addNewFoodEntryChecks","placeholder","updateAddNewFoodEntry","newMName","newMPortion","onToggleFoodForm","onChangeFoodValue","field","psi","sum","resetAfterAdd","_currentEntry","selectedOrNull","newEntry","_getAmountCurrent","_getAmountDefault","_getMeasureVisible","_getFoodItems","foodItemsCounter","_getFoodItem","item","fi","newFoodKey","searchAreaOrLoading","data-field","onKeyDown","FoodDetailsArea","selectedFoodDetails","isDishSelected","calories","highlightOrNot","picOrEmpty","onDishSelect","colSpan","_infoForMeasure","_compositionOrNot","_dishButtonsOrNot","onCalculateDishValues","onSaveDishIngr","dishData","dishid","f","updateSelectedFoodDetails","newFoodDetails","measureStr","infoValue","DailyMeals","ref","dayAreaRef","addFoodAreaRef","foodDetailsAreaRef","dayArea","addFoodArea","foodDetailsArea","node","status","YourFood","YourPlans","YourStats","GlobalStats","UsersData","Profile","passRegex","UNSAFE_componentWillMount","warning","isLoading","onReset","cancelChangeProfile","onSubmit","onChangeProfile","minLength","browseUserPic","onChangePassword","passNow","passNew","passConfirm","includes","match","oldpass","newpass","message","Login","warningMsg","onLogin","inputs","usernameText","passText","successStatus","pass","Register","onRegister","pattern","required","passC","desc","Error","Main","page","changePage","newPage","Footer","refs","main","createRef","footer","header","nav","App","Provider","current","data","updateUserProfile","ReactDOM"],"mappings":"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","file":"static/js/main.cde9ca7d.chunk.js","sourcesContent":["import svData from \"./svData.json\";\r\n\r\n\r\nconst dateToStr = (dateObj) => `${dateObj.getFullYear()}-`\r\n+ `${dateObj.getMonth() + 1 > 9 ? (dateObj.getMonth() + 1).toString() : `0${(dateObj.getMonth() + 1).toString()}`}-`\r\n+ `${dateObj.getDate() > 9 ? dateObj.getDate().toString() : `0${dateObj.getDate().toString()}`}`;\r\n\r\nconst getServerURL = () =>\r\n  svData.serverLink;\r\n// return \"http://localhost:3001\";\r\n\r\nexport { dateToStr, getServerURL };\r\n","\r\nimport React from \"react\";\n\r\nimport { dateToStr } from \"./methods\";\n\n\r\nconst defaultUser = {\r\n  userid: 0,\r\n  username: \"Guest\",\r\n  email: \"guest@nomail.none\",\r\n  firstname: \"John\",\r\n  lastname: \"Doe\",\r\n  dob: dateToStr(new Date()),\r\n  sex: \"1\",\r\n  describe: \"placeholder\",\r\n  pic: \"profileEmpty.png\",\r\n  diet: null,\r\n  defaultmeals: \"Breakfast,Lunch,Dinner\",\r\n  access: \"Guest\",\r\n};\r\n\r\nconst AppContext = React.createContext({\r\n  currentUser: defaultUser,\r\n  changeMainPage: null,\r\n  updateUser: null,\r\n});\r\n\r\nexport { AppContext, defaultUser };\r\n","// import { NavLink } from 'react-router-dom';\r\n//\r\n// const Header = () => {\r\n//    return (\r\n//        <header className=\"subblock boxShow\">\r\n//            <img src=\"SitePics/head.png\" alt=\"[NO LOGO]\" className=\"logo\" />\r\n//            <div id=\"titleArea\">\r\n//                <NavLink to=\"/\">\r\n//                    <h1 id=\"title\">FoodTracker</h1>\r\n//                    <h3 id=\"subtitle\">Define and Track your Food and diet goals on Your own terms!</h3>\r\n//                </NavLink>\r\n//            </div>\r\n//            <div id=\"profileArea\" className=\"boxShow\">\r\n//                <NavLink to=\"/Login\">\r\n//                    Guest<br />\r\n//                    <img src=\"SitePics/profileEmpty.png\" alt=\"[NO PIC]\" />\r\n//                </NavLink>\r\n//                <NavLink className=\"navlink\" to=\"/Register\">Register</NavLink>\r\n//                <NavLink className=\"navlink\" to=\"/Login\">Login</NavLink>\r\n//            </div>\r\n//        </header>\r\n//    );\r\n// }\r\n\r\nimport React from \"react\";\n\nimport { AppContext } from \"../AppContext\";\n\n\r\nclass Header extends React.Component {\r\n   static contextType = AppContext;\r\n\r\n   constructor(props) {\r\n     super(props);\r\n\r\n     this.state = { isLogged: false };\r\n   }\r\n\r\n   render = () => {\r\n     const { isLogged } = this.state;\r\n     const { changeMainPage } = this.context;\r\n     const { username, pic } = this.context.currentUser;\r\n\r\n     return (\r\n       <header className=\"subblock boxShow\">\r\n         <img alt=\"[NO LOGO]\" className=\"logo\" src=\"SitePics/head.png\" />\r\n         <div id=\"titleArea\" onClick={() => changeMainPage(\"Home\")}>\r\n           <h1 id=\"title\">FoodTracker</h1>\r\n           <h3 id=\"subtitle\">Define and Track your Food and diet goals on Your own terms!</h3>\r\n         </div>\r\n         <div className=\"boxShow\" id=\"profileArea\">\r\n           <span onClick={() => changeMainPage(isLogged ? \"Profile\" : \"Register\")}>\r\n             {username}\r\n             <br />\r\n             <img alt=\"[NO PIC]\" src={`UserPics/${pic}`} />\r\n           </span>\r\n           <span className=\"navlink\" onClick={() => changeMainPage(isLogged ? \"Profile\" : \"Register\")}>\r\n             {isLogged ? \"Profile\" : \"Register\"}\r\n           </span>\r\n           <span className=\"navlink\" onClick={this.onLogClick}>\r\n             {isLogged ? \"Logout\" : \"Login\"}\r\n           </span>\r\n         </div>\r\n       </header>\r\n     );\r\n   };\r\n\r\n  onLogClick = () => {\r\n    const { isLogged } = this.state;\r\n    const { updateUser, changeMainPage } = this.context;\r\n\r\n    if (isLogged) {\r\n      updateUser(null);\r\n      changeMainPage(\"Home\");\r\n    } else {\n      changeMainPage(\"Login\");\n    }\r\n  };\r\n\r\n    updateUser = (newIsLogged) => {\r\n      this.setState({ isLogged: newIsLogged });\r\n    };\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\n\r\nimport { AppContext } from \"../AppContext\";\r\n\r\n// import { NavLink } from 'react-router-dom';\r\n//\r\n// const Nav = () => {\r\n//    return (\r\n//        <nav className=\"subblock boxShow\">\r\n//            <NavLink className=\"navlink textHigh\" to=\"/DailyMeals\">Daily Meals</NavLink>|\r\n//            <NavLink className=\"navlink textHigh\" to=\"/YourFood\">Your Food</NavLink>|\r\n//            <NavLink className=\"navlink textHigh\" to=\"/YourPlans\">Your Plans</NavLink>|\r\n//            <NavLink className=\"navlink textHigh\" to=\"/YourStats\">Your Stats</NavLink>|\r\n//            <NavLink className=\"navlink textHigh\" to=\"/GlobalStats\">Global Stats</NavLink>|\r\n//            <NavLink className=\"navlink textHigh\" to=\"/GlobalData\">Global Data</NavLink>\r\n//        </nav>\r\n//    );\r\n// }\r\n\r\nclass Nav extends React.Component {\r\n    static contextType = AppContext;\r\n\r\n    render = () => (\r\n      <nav className=\"subblock boxShow\">\r\n        <span className=\"navlink textHigh\" onClick={() => this.context.changeMainPage(\"DailyMeals\")}>Daily Meals</span>|\r\n        <span className=\"navlink textHigh\" onClick={() => this.context.changeMainPage(\"YourFood\")}>Your Food</span>|\r\n        <span className=\"navlink textHigh\" onClick={() => this.context.changeMainPage(\"YourPlans\")}>Your Plans</span>|\r\n        <span className=\"navlink textHigh\" onClick={() => this.context.changeMainPage(\"YourStats\")}>Your Stats</span>|\r\n        <span className=\"navlink textHigh\" onClick={() => this.context.changeMainPage(\"GlobalStats\")}>Global Stats</span>|\r\n        <span className=\"navlink textHigh\" onClick={() => this.context.changeMainPage(\"GlobalData\")}>Users Data</span>\r\n      </nav>\r\n    );\r\n}\r\n\r\nexport default Nav;\r\n","import React from \"react\";\n\r\n\r\nconst Home = () => (\r\n  <main className=\"boxShow\">\r\n    <div className=\"subblock\">\r\n      <h1>WELCOME !</h1>\r\n      <p>\r\n        This is a website where you can track what you eat. You can Design ,Customize and Organize\r\n        foods, meals and diet plans to your liking, and also track various self defined goals\r\n        with a high degree of customisability and have easy access to helpful information.\r\n      </p>\r\n      <p><br />\r\n        While preselecting foods through scanning codes and importing lists from various places will\r\n        be available in the future, the Main Functionality of this site revolves around providing a\r\n        a simple practical and flexible framework where YOU Define and Organize your stuff and can potentially completely ignore anything else.\r\n      </p>\r\n      <p><br />\r\n        This has been entirely made from scratch by me (o/ hi!) mostly because other similar websites seem to want to box you into a way of doing things and predefine certain goals for you while also expecting you to pick from many predefined items. I found this rather confusing or restrictive and annoying.\r\n        BUT here if you feel like making a user called Worm69 that eats 2grams of Dirt and Fungus 30 times a day you can do that!(please don't tho..)\r\n      </p><br />\r\n      <p><span>As a Guest you have Certain Limitations:</span> You can only log food in a specific time period and also have limits on how many entries you can asign to your daily meals. The Guest is only here to quick demonstrations on how this site functions and the data you enter is NOT Realiable/Persistent for long terms.\r\n        (also as this site is currently running for free and will receive major changes-including the database- The Data you put in might get wiped/changed in the future).\r\n      </p>\r\n      <p><br />\r\n        This site is in constant development and tends to get frequent (often daily) updates.\r\n        Right now you can make an account, change profile details, and in DailyMeals section you can\r\n        add/change Meals to days you select, and add Food Items to Meals.\r\n        You can do this either by searching through a list of Foods(right now comprises of what I've eaten lately) or create your own foods. Right now you can only add simple foods with a name and brand, macronutrients and size/portion information. More will come.\r\n        <br />\r\n      </p>\r\n      <p><br />\r\n        But you can attach notes to days and meals. Notes consist of a score, a title and text.\r\n        You use this system to write how you felt about a meal, keep track of alergies/odd reactions/blood sugar or really anything you want. You can find a list of my notes but they probably won't help much because it's personal to me. The list will change to something more general/better later on.\r\n      </p>\r\n\r\n    </div>\r\n  </main>\r\n);\r\n\r\nexport default Home;\r\n","import React from \"react\";\n\r\n\r\nclass NoteView extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      note: props.note,\r\n      isSelected: false,\r\n    };\r\n  }\r\n\r\n    componentDidMount = () => {\r\n      if (this.props.signalSelect) {\n        this.props.selectedChanged(null, this);\n      }\r\n    };\r\n\r\n    render = () => {\r\n      const { isSelected, note } = this.state;\r\n      const { score, title, notetext } = note;\r\n\r\n      return (\r\n        <div className={`noteView boxShow lineDown${isSelected ? \" nSelected\" : \"\"}`} onClick={(ev) => this.props.selectedChanged(ev, this)}>\r\n          <img alt={`S=${score}`} className=\"scoreImg\" src={`SitePics/star${score}.png`} />\r\n          <span className=\"title\">{title}</span>\r\n          <span>{`--${notetext ? notetext : \"<Empty>\"}`}</span>\r\n        </div>\r\n      );\r\n\r\n    };\r\n\r\n    toggleSelected = () => this.setState({ isSelected: !this.state.isSelected });\r\n}\r\n\r\nexport default NoteView;\r\n","import React from \"react\";\n\r\nimport { AppContext } from \"../AppContext\";\nimport { getServerURL } from \"../methods\";\n\nimport NoteView from \"./NoteView\";\n\r\n\r\nclass Note extends React.Component {\r\n  static contextType = AppContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      note: props.note,\r\n\r\n      isEdit: false,\r\n      isEditValues: false,\r\n\r\n      selectedNoteView: null,\r\n      noteViews: [],\r\n      noteViewsIsLoading: true,\r\n      noteViewCounter: 0,\r\n      searchCounter: 0,\r\n\r\n      newScore: 0,\r\n      newTitle: \"\",\r\n      newText: \"\",\r\n    };\r\n    this.options = [];\r\n    for (let i = -5; i <= 5; i += 1) {\n      this.options.push(<option key={i}>{i}</option>);\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isEdit, isEditValues, note, noteViews, noteViewsIsLoading, newScore } = this.state;\r\n    if (this.props.isMin) {\r\n      return <hr />;\r\n    }\r\n\r\n    if (isEdit) {\r\n      return (\r\n        <div className=\"noteEdit boxShow\">\r\n          <div className=\"editChoices\">\r\n            <input checked={!isEditValues} name={`${this._reactInternalFiber.key}_radio`} type=\"radio\" value=\"select\" onChange={(ev) => this.onEditAddNote(false)} />Select\r\n            <input checked={isEditValues} name={`${this._reactInternalFiber.key}_radio`} type=\"radio\" value=\"values\" onChange={(ev) => this.onEditAddNote(true)} />Values\r\n            <button\r\n              onClick={() => {\r\n                this.setState({ isEdit: false });\r\n              }}\r\n            >Cancel</button>\r\n          </div>\r\n          {isEditValues\r\n            ? <div className=\"newNote\">\r\n              <span>Score:</span>\r\n              <div>\r\n                <select\r\n                  defaultValue={0} onChange={(ev) => this.setState({ newScore: ev.currentTarget.value })}\r\n                >\r\n                  {this.options}\r\n                </select>\r\n                <img alt={`S=${newScore}`} className=\"scoreImg\" src={`SitePics/star${newScore}.png`} />\r\n                <button onClick={this.setNote}>Apply New Note</button>\r\n              </div>\r\n              <span>Title:</span><input maxLength=\"50\" type=\"text\" onChange={(ev) => this.setState({ newTitle: ev.currentTarget.value })} />\r\n              <span>Text:</span><textarea maxLength=\"250\" onChange={(ev) => this.setState({ newText: ev.currentTarget.value })} />\r\n            </div>\r\n            : <div className=\"selectNote\">\r\n              <div className=\"noteSearch\">\r\n                Search:<input maxLength=\"100\" type=\"text\" onChange={(ev) => this.loadNoteViews(ev.currentTarget.value)} />\r\n                <button onClick={this.setNote}>Select Note</button>\r\n              </div>\r\n              <div className=\"noteSearchArea\">\r\n                {noteViewsIsLoading ? \"LOADING...\" : noteViews}\r\n              </div>\r\n            </div>}\r\n        </div>\r\n      );\r\n    } else\r\n    if (note) {\r\n      const { score, title, notetext } = note;\r\n\r\n      return (\r\n        <div className=\"note boxShow\">\r\n          <img alt={`S=${score}`} className=\"scoreImg\" src={`SitePics/star${score}.png`} />\r\n          <img alt=\"X\" className=\"managerImg\" src=\"SitePics/icons8-close-window-16.png\" onClick={this.onRemoveNote} />\r\n          <img alt=\"New\" className=\"managerImg\" src=\"SitePics/icons8-edit-16.png\" onClick={() => this.onEditAddNote(true)} />\r\n          <span className=\"title\">{title}</span>\r\n          <span className=\"notetext\">{notetext ? `--${notetext}` : \"\"}</span>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"note boxShow\">\r\n        No Note<img alt=\"N\" className=\"managerImg\" src=\"SitePics/icons8-plus-16.png\" onClick={this.onEditAddNote} />\r\n      </div >\r\n    );\r\n  }\r\n\r\n  onRemoveNote = () => this.props.removeNote;\r\n\r\n  onEditAddNote = (isValues) => {\r\n    if (isValues) {\n      this.setState({\r\n        isEdit: true,\r\n        isEditValues: true,\r\n      });\n    } else {\r\n      this.setState({\r\n        isEdit: true,\r\n        isEditValues: false,\r\n      });\r\n      this.loadNoteViews(\"\");\r\n    }\r\n  };\r\n\r\n  onSelectedNoteViewChanged = (ev, sender) => {\r\n    const { selectedNoteView } = this.state;\r\n\r\n    if (sender !== selectedNoteView) {\r\n      if (selectedNoteView) {\n        selectedNoteView.toggleSelected();\n      }\r\n      sender.toggleSelected();\r\n\r\n      this.setState({ selectedNoteView: sender });\r\n    }\r\n  }\r\n\r\n  searchNoteViews = async(searchTerms, searchCounter) => {\r\n    if (searchCounter < this.state.searchCounter) {\r\n      return;\r\n    }\r\n\r\n    let { noteViewCounter } = this.state;\r\n    // If app.currentUser is Guest pretend it's SV\r\n    const userId = this.context.currentUser.userid === 0 ? 1 : this.context.currentUser.userid;\r\n\r\n    let res = await fetch(`${getServerURL()}/dailymeals/notesearch`, {\r\n      method: \"get\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n        \"userid\": userId,\r\n        \"search\": searchTerms,\r\n      },\r\n    });\r\n    res = await res.json();\r\n    if (searchCounter < this.state.searchCounter) {\r\n      return;\r\n    }\r\n\r\n    const noteViews = [];\r\n    let first = true;\r\n    for (const n of res) {\r\n      if (!first) {\r\n        noteViews.push(<NoteView key={noteViewCounter++} note={n} selectedChanged={this.onSelectedNoteViewChanged} />);\r\n      } else {\r\n        noteViews.push(<NoteView key={noteViewCounter++} note={n} selectedChanged={this.onSelectedNoteViewChanged} signalSelect={true} />);\r\n        first = false;\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      noteViews,\r\n      noteViewCounter,\r\n      noteViewsIsLoading: false,\r\n    });\r\n  };\r\n\r\n  loadNoteViews = (searchTerms) => {\r\n    this.setState({\r\n      noteViews: [],\r\n      noteViewsIsLoading: true,\r\n      searchCounter: this.state.searchCounter + 1,\r\n    });\r\n    const sc = this.state.searchCounter + 1;\r\n\r\n    setTimeout(() => this.searchNoteViews(searchTerms, sc), 150);\r\n  };\r\n\r\n  setNote = () => {\r\n    const { isEditValues, newScore, newTitle, newText } = this.state;\r\n\r\n    if (isEditValues) {\r\n      this.props.updateAttach({\r\n        score: newScore,\r\n        title: newTitle === \"\" ? \"Untitled\" : newTitle,\r\n        notetext: newText,\r\n      });\r\n      this.setState({\r\n        note: {\r\n          score: newScore,\r\n          title: newTitle === \"\" ? \"Untitled\" : newTitle,\r\n          notetext: newText,\r\n        },\r\n        isEdit: false,\r\n      });\r\n    } else {\r\n      this.props.updateAttach(this.state.selectedNoteView.state.note);\r\n      this.setState({\r\n        note: this.state.selectedNoteView.state.note,\r\n        isEdit: false,\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport default Note;\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\r\n\r\nclass FoodEntry extends React.Component {\r\n  static propTypes = {\r\n    foodEntry: PropTypes.object,\r\n    readOnly: PropTypes.bool,\r\n    updateMealMacros: PropTypes.func,\r\n    updateRemoveFoodEntry: PropTypes.func,\r\n  };\n\n  static defaultProps ={\n    foodEntry: FoodEntry.defaultFoodEntry,\n    readOnly: false,\n    updateMealMacros: null,\n    updateRemoveFoodEntry: null,\n  };\n\r\n  static defaultFoodEntry = {\r\n    // entryid: 0,\r\n    foodid: 0,\r\n    foodname: \"Nothing\",\r\n    brand: \"Nobody\",\r\n    fat: 0, carbs: 0, protein: 0,\r\n    sizeinfo: null, userid: 0, pic: null, price: 0,\r\n    isdish: false,\r\n    note: null,\r\n    amount: 1,\r\n    measure: \"Pieces\",\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let initFoodEntry = {};\r\n    if (props.foodEntry) {\n      initFoodEntry = props.foodEntry;\n    } else if (props.foodItem) {\r\n      initFoodEntry = props.foodItem;\r\n      initFoodEntry.amount = props.amount;\r\n      initFoodEntry.measure = props.measure;\r\n    } else {\n      initFoodEntry = { ...FoodEntry.defaultFoodEntry };\n    }\r\n\r\n    this.state = {\r\n      foodEntry: initFoodEntry,\r\n      fatRes: this.getMacroRes(\"fat\", initFoodEntry),\r\n      carbsRes: this.getMacroRes(\"carbs\", initFoodEntry),\r\n      proteinRes: this.getMacroRes(\"protein\", initFoodEntry),\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { fatRes, carbsRes, proteinRes } = this.state;\r\n\r\n    if (this.props.updateMealMacros) {\r\n      this.props.updateMealMacros(fatRes, carbsRes, proteinRes);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.foodEntry !== this.state.foodEntry) {\r\n      this.setState({ foodEntry: this.props.foodEntry });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { foodEntry, fatRes, carbsRes, proteinRes } = this.state;\r\n    const { foodname, brand, amount, fat, carbs, protein } = (foodEntry ? foodEntry : FoodEntry.defaultFoodEntry);\r\n\r\n    const brandOrNot = brand ? `@${brand}` : \"\";\r\n    const removeImgOrNot = this.props.readOnly ? \"\" : (\r\n      <img\n        alt=\"X\" className=\"managerImg\" src=\"SitePics/icons8-closeM-window-16.png\"\r\n        onClick={this.onRemoveFoodEntry}\n      />);\r\n\r\n    return (\r\n      <div className={`foodEntry ${this.props.className}`}>\r\n        <span className=\"amount\">{amount}</span>\r\n        <span className=\"name_brand\">{`${foodname} ${brandOrNot}`}</span>\r\n        <span className=\"macro\">{`${fat}/${carbs}/${protein}`}</span>\r\n        <span className=\"macroRes\">{`${fatRes}/${carbsRes}/${proteinRes}`}{removeImgOrNot}</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n    onRemoveFoodEntry = () => {\r\n      const { fatRes, carbsRes, proteinRes } = this.state;\r\n\r\n      this.props.updateRemoveFoodEntry(this);\r\n      this.props.updateMealMacros(-fatRes, -carbsRes, -proteinRes);\r\n    }\r\n\r\n    getMacroRes = (mstr, foodEntry) => {\r\n      const { amount, measure, sizeinfo } = foodEntry;\r\n      if (measure === \"Pieces\") {\n        if (sizeinfo === null) {\n          return Number((foodEntry[mstr] * amount).toFixed(1));\n        }\n\n        return Number((foodEntry[mstr] * amount * sizeinfo / 100).toFixed(1));\r\n      }\n\n      return Number((foodEntry[mstr] * amount / 100).toFixed(1));\r\n    };\r\n}\r\n\r\nexport default FoodEntry;\r\n","/* eslint-disable no-console */\n/* eslint-disable no-alert */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport FoodEntry from \"./FoodEntry\";\r\nimport Note from \"./Note\";\n\r\n\r\nclass MealEntry extends React.Component {\r\n  static propTypes = {\r\n    mealEntry: PropTypes.object.isRequired,\r\n    updateDayMacros: PropTypes.func.isRequired,\r\n    updateSelectedMeal: PropTypes.func.isRequired,\r\n    updateRemoveMeal: PropTypes.func.isRequired,\r\n  };\n\r\n  static defaultMealEntry = {\r\n    mealname: \"New Meal\",\r\n    portion: 1,\r\n    note: null,\r\n    foodentries: [],\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fat = 0;\r\n    this.carbs = 0;\r\n    this.protein = 0;\r\n    this.state = {\r\n      mealEntry: props.mealEntry ? props.mealEntry : { ...MealEntry.defaultMealEntry },\r\n\r\n      fat: 0,\r\n      carbs: 0,\r\n      protein: 0,\r\n\r\n      isHighlighted: false,\r\n      isMin: false,\r\n    };\r\n    this.foodEntriesCounter = 0;\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.mealEntry !== this.state.mealEntry) {\r\n      this.setState({ mealEntry: this.props.mealEntry });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { mealEntry, isHighlighted, isMin, fat, carbs, protein } = this.state;\r\n    const { mealname, note, portion } = mealEntry;\r\n\r\n    return (\r\n      <div\r\n        className={`mealArea boxShow${isHighlighted ? \" highlight\" : \"\"}`} role=\"menuitem\" tabIndex=\"0\"\r\n        onClick={this.onMealSelect}\r\n      >\r\n        <div className=\"mealTitle\">\r\n          {`${mealname} (x${portion})`}\r\n          <img\r\n            alt=\"X\" className=\"managerImg\" src=\"SitePics/icons8-cancel-20.png\"\r\n            onClick={this.onRemoveMeal}\r\n          />\r\n          <img\r\n            alt={isMin ? \"+\" : \"-\"} className=\"managerImg\" src={isMin ? \"SitePics/icons8-plus-20.png\" : \"SitePics/icons8-minus-20.png\"}\r\n            onClick={this.toggleMinMax}\r\n          />\r\n        </div>\r\n        <Note\r\n          key={this._reactInternalFiber.key + (note ? \"_note\" : \"0\")} isMin={isMin} note={note}\r\n          removeNote={this.removeNote} updateAttach={this.updateAttach}\r\n        />\r\n        <div className={`foodEntries lineDown${isMin ? \" hidden\" : \"\"}`}>\r\n          {this._getFoodEntries()}\r\n        </div>\r\n        <div className=\"mealTotal\">\r\n          <span>Meal Total:</span>\r\n          <span>{`${fat.toFixed(1)}|${carbs.toFixed(1)}|${protein.toFixed(1)}`}</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onMealSelect = () => this.props.updateSelectedMeal(this);\r\n\r\n  onRemoveMeal = () => {\r\n    const { fat, carbs, protein } = this.state;\r\n\r\n    this.props.updateRemoveMeal(this);\r\n    this.props.updateDayMacros(-fat, -carbs, -protein);\r\n  }\r\n\r\n  removeNote = () => {\r\n    const { mealEntry } = this.state;\r\n\r\n    mealEntry.note = null;\r\n    this.setState({ mealEntry });\r\n    this.props.updateMealNote();\r\n  };\r\n\r\n  updateAttach = (newNote) => {\r\n    const { mealEntry } = this.state;\r\n\r\n    mealEntry.note = newNote;\r\n    this.setState({ mealEntry });\r\n  };\r\n\r\n  updateRemoveFoodEntry = (foodEntry) => {\r\n    const { mealEntry } = this.state;\r\n\r\n    mealEntry.foodentries.splice(foodEntry._reactInternalFiber.key, 1);\r\n    this.setState({ mealEntry });\r\n  };\r\n\r\n  updateNewFoodEntry = (foodEntry) => {\r\n    const { mealEntry } = this.state;\r\n\r\n    mealEntry.foodentries.push(foodEntry);\r\n    this.setState({ mealEntry });\r\n\r\n    return \"\";\r\n  };\r\n\r\n  updateMealMacros = (newFat, newCarbs, newProtein) => {\r\n    const { portion } = this.state.mealEntry;\r\n\r\n    this.fat += (newFat * portion);\r\n    this.carbs += (newCarbs * portion);\r\n    this.protein += (newProtein * portion);\r\n\r\n    this.setState({\r\n      fat: this.fat,\r\n      carbs: this.carbs,\r\n      protein: this.protein,\r\n    });\r\n    this.props.updateDayMacros(newFat, newCarbs, newProtein);\r\n  };\r\n\r\n  toggleHighlight = () => this.setState({ isHighlighted: !this.state.isHighlighted });\r\n\r\n  toggleMinMax = (ev) => {\r\n    this.setState({ isMin: !this.state.isMin });\r\n    ev.stopPropagation();\r\n  };\r\n\r\n  _getFoodEntries = () => {\r\n    const { mealEntry } = this.state;\r\n\r\n    this.foodEntriesCounter = 0;\r\n\n    return mealEntry.foodentries.map(this._getFoodEntry);\r\n  };\r\n\r\n  _getFoodEntry = (entry) => {\r\n    const fe = (\r\n      <FoodEntry\r\n        key={this.foodEntriesCounter} className=\"lineDown\" foodEntry={entry}\r\n        updateMealMacros={this.updateMealMacros} updateRemoveFoodEntry={this.updateRemoveFoodEntry}\r\n      />);\r\n    this.foodEntriesCounter += 1;\r\n\r\n    return fe;\r\n  };\r\n}\r\n\r\nexport default MealEntry;\r\n","/* eslint-disable no-console */\r\n/* eslint-disable no-alert */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\n\r\nimport Note from \"../../Components/Note\";\r\nimport MealEntry from \"../../Components/MealEntry\";\r\nimport { dateToStr, getServerURL } from \"../../methods\";\r\nimport { AppContext } from \"../../AppContext\";\n\n\r\nclass DayArea extends React.Component {\r\n  static contextType = AppContext;\r\n  static propTypes = { updateDishSelect: PropTypes.func.isRequired }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fat = 0;\r\n    this.carbs = 0;\r\n    this.protein = 0;\r\n    this.state = {\r\n      selectedDay: null,\r\n      dayEntry: {},\r\n      dayFat: 0,\r\n      dayCarbs: 0,\r\n      dayProtein: 0,\r\n\r\n      selectedMeal: null,\r\n      mealareaIsLoading: true,\r\n    };\r\n    this.mealsEntriesCounter = 0;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setInitialState();\r\n  }\r\n\r\n  render() {\r\n    const { selectedDay, dayEntry, mealareaIsLoading, dayFat, dayCarbs, dayProtein } = this.state;\r\n\r\n    const mealsAreaOrLoading = mealareaIsLoading ? \"LOADING...\" : this._getMealEntries();\r\n    const noteOrLoading = mealareaIsLoading ? \"LOADING...\" : (\r\n      <Note\n        key={`D${dayEntry.note ? dayEntry.note.noteid : \"D0\"}`} note={dayEntry.note}\r\n        removeNote={this.removeNote} updateDayNote={this.updateDayNote}\n      />\r\n    );\r\n\r\n    return (\r\n      <div className=\"dayArea subblock boxShow\">\r\n        <div className=\"dayHeader\">\r\n          <div className=\"datepick boxShow\">\r\n            <span className=\"textHigh\">Day: </span>\r\n            <button\n              className=\"ftButton\" data-offset=\"-1\"\r\n              disabled={mealareaIsLoading} onClick={this.onDayOffset}\n            >\r\n              {\"<\"}\r\n            </button>\r\n            <input\n              className=\"selectedDay\" disabled={mealareaIsLoading} type=\"date\" value={selectedDay}\r\n              onChange={this.onLoadDailyMeals}\n            />\r\n            <button\n              className=\"ftButton\" data-offset=\"1\"\r\n              disabled={mealareaIsLoading} onClick={this.onDayOffset}\n            >{\">\"}</button>\r\n          </div>\r\n          {noteOrLoading}\r\n        </div>\r\n        <div className=\"mealsArea\">\r\n          {mealsAreaOrLoading}\r\n        </div>\r\n        <hr />\r\n        <div className=\"dayTotal\">\r\n          <span>Day Total:</span>\r\n          <span>{`${dayFat.toFixed(1)}||${dayCarbs.toFixed(1)}||${dayProtein.toFixed(1)}`}</span>\r\n        </div>\r\n        <button className=\"ftButton\" disabled={mealareaIsLoading} onClick={this.onCommit}>COMMIT DAY!</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onLoadDailyMeals = (dayParam) => {\r\n    const { currentUser } = this.context;\r\n\r\n    const day = (typeof dayParam === \"string\") ? dayParam : dayParam.currentTarget.value;\r\n\r\n    if (currentUser.access === \"Guest\" &&\r\n      (new Date(day) < new Date(\"2020-06-04\") || new Date(day) > new Date(\"2020-06-11\"))) {\r\n      alert(\"As Guest user you can Only select from the 2020-06-04 to 2020-06-11 period!\");\r\n\r\n      return;\r\n    }\r\n\r\n    this.fat = 0;\r\n    this.carbs = 0;\r\n    this.protein = 0;\r\n    this.setState({\r\n      mealareaIsLoading: true,\r\n      selectedMeal: null,\r\n      dayEntry: null,\r\n      dayFat: 0,\r\n      dayCarbs: 0,\r\n      dayProtein: 0,\r\n    },\r\n    async() => {\r\n\r\n      let res = await fetch(`${getServerURL()}/dailymeals`, {\r\n        method: \"get\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          \"reqdate\": day,\r\n          \"userid\": currentUser.userid,\r\n        },\r\n      });\r\n      res = await res.json();\r\n\r\n      this.setState({\r\n        mealareaIsLoading: false,\r\n        selectedDay: day,\r\n        dayEntry: res,\r\n      });\r\n    });\r\n  };\r\n\r\n  onDayOffset = (ev) => {\r\n    const { selectedDay } = this.state;\r\n\r\n    const d = new Date(selectedDay);\r\n    d.setDate(d.getDate() + Number(ev.currentTarget.getAttribute(\"data-offset\")));\r\n    this.onLoadDailyMeals(dateToStr(d));\r\n  };\r\n\r\n  onCommit = () => {\r\n    this.setState({ searchareaIsLoading: true },\r\n      async() => {\r\n        const { dayEntry, selectedDay } = this.state;\r\n        const { currentUser } = this.context;\r\n\r\n        const dayPutReq = dayEntry;\r\n        dayPutReq.userid = currentUser.userid;\r\n        dayPutReq.date = selectedDay;\r\n\r\n        let res = await fetch(`${getServerURL()}/dailymeals`, {\r\n          method: \"put\",\r\n          headers: { \"content-type\": \"application/json\" },\r\n          body: JSON.stringify(dayPutReq),\r\n        });\r\n        res = await res.json();\r\n\r\n        this.onLoadDailyMeals(this.state.selectedDay);\r\n\r\n        console.log(res);\r\n        if (typeof res !== \"string\") {\r\n          alert(`Successfully entered date for day ${selectedDay}!\\n --You can view resulting entry in the console`);\r\n        } else {\r\n          alert(\"There was an Error!\");\r\n        }\r\n\r\n        this.setState({ searchareaIsLoading: false });\r\n      });\r\n  };\r\n\r\n  onAddNewMeal = (mealName = \"\", portion = 1) => {\r\n    const { currentUser } = this.context;\r\n    const { dayEntry } = this.state;\r\n\r\n    if (currentUser.access === \"Guest\" && dayEntry.meals.length === 5) {\r\n      return \"As Guest user you cannot enter more than 5 Meals per day!\";\r\n    }\r\n    if (isNaN(portion)) {\r\n      return \"Must Enter Valid Number for Portion!\";\r\n    }\r\n\r\n    const newMealEntry = {\r\n      mealname: mealName === \"\" ? `Meal${dayEntry.meals.length + 1}` : mealName,\r\n      portion: portion === \"\" ? 1 : portion,\r\n      noteid: null,\r\n      foodentries: [],\r\n    };\r\n\r\n    dayEntry.meals.push(newMealEntry);\r\n    this.setState({ dayEntry });\r\n\r\n    return \"\";\r\n  };\r\n\r\n  updateRemoveMeal = (sender) => {\r\n    const { dayEntry } = this.state;\r\n\r\n    dayEntry.meals.splice(sender._reactInternalFiber.key, 1);\r\n    this.setState({ dayEntry });\r\n  };\r\n\r\n  updateSelectedMeal = (sender) => {\r\n    const { selectedMeal } = this.state;\r\n\r\n    if (sender === null && selectedMeal !== null) {\r\n      selectedMeal.toggleHighlight();\r\n      this.setState({ selectedMeal: null });\r\n    } else if (sender !== selectedMeal) {\r\n      if (selectedMeal) {\r\n        selectedMeal.toggleHighlight();\r\n      }\r\n      sender.toggleHighlight();\r\n      this.setState({ selectedMeal: sender });\r\n      // ev.stopPropagation();\r\n      this.props.updateDishSelect(false);\r\n    }\r\n  };\r\n\r\n  updateNewFoodEntry = (newFoodEntry) => {\r\n    const { selectedMeal } = this.state;\r\n    const { currentUser } = this.context;\r\n\r\n    if (selectedMeal === null) {\r\n      return \"Must select a Meal or Dish!\";\r\n    }\r\n    if (currentUser.access === \"Guest\" && selectedMeal.state.mealEntry.foodentries.length >= 7) {\r\n      return \"As Guest user you cannot enter more than 7 Food Items per Meal!\";\r\n    }\r\n\r\n    selectedMeal.updateNewFoodEntry(newFoodEntry);\r\n\r\n    return \"\";\r\n  };\r\n\r\n  updateDayMacros = (newfat, newcarbs, newprotein) => {\r\n    this.fat += newfat;\r\n    this.carbs += newcarbs;\r\n    this.protein += newprotein;\r\n\r\n    this.setState({\r\n      dayFat: this.fat,\r\n      dayCarbs: this.carbs,\r\n      dayProtein: this.protein,\r\n    });\r\n  };\r\n\r\n  updateDayNote = (newNote) => {\r\n    const { dayEntry } = this.state;\r\n\r\n    dayEntry.note = newNote;\r\n    this.setState({ dayEntry });\r\n  };\r\n\r\n  removeNote = () => {\r\n    const { dayEntry } = this.state;\r\n\r\n    dayEntry.note = null;\r\n    this.setState({ dayEntry });\r\n  };\r\n\r\n  _getMealEntries = () => {\r\n    const { dayEntry } = this.state;\r\n\r\n    this.mealsEntriesCounter = 0;\r\n\r\n    return dayEntry.meals.map(this._getMealEntry);\r\n\r\n  };\r\n\r\n  _getMealEntry = (entry) => {\r\n    const me = (\r\n      <MealEntry\r\n        key={this.mealsEntriesCounter} mealEntry={entry} updateDayMacros={this.updateDayMacros}\r\n        updateMealFoodEntries={this.updateMealFoodEntries} updateMealNote={this.updateMealNote}\r\n        updateRemoveMeal={this.updateRemoveMeal} updateSelectedMeal={this.updateSelectedMeal}\r\n      />);\r\n    this.mealsEntriesCounter += 1;\r\n\r\n    return me;\r\n  };\r\n\r\n  setInitialState = () => {\r\n    const { currentUser } = this.context;\r\n\r\n    const initialDate = currentUser.access === \"Guest\" ? new Date(\"2020-06-07\") : new Date();\r\n    this.setState({ selectedDay: dateToStr(initialDate) });\r\n\r\n    setTimeout(() => {\r\n      this.onLoadDailyMeals(this.state.selectedDay);\r\n    }, 0);\r\n  }\r\n}\r\n\r\nexport default DayArea;\r\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\r\n\r\nclass FoodItem extends React.Component {\r\n  static propTypes = {\r\n    foodItem: PropTypes.object.isRequired,\r\n    updateSelectedFood: PropTypes.func.isRequired,\r\n    signalSelect: PropTypes.bool,\r\n  };\n\n  static defaultProps = { signalSelect: false };\r\n  static defaultFoodItem = {\r\n    // entryid: 0,\r\n    foodid: 0,\r\n    foodname: \"Nothing\",\r\n    brand: \"Nowhere\",\r\n    fat: 0, carbs: 0, protein: 0,\r\n    sizeinfo: null, userid: 0, pic: \"empty.png\", price: 0,\r\n    isdish: false,\r\n    note: null,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      foodItem: (props.foodItem) ? props.foodItem : { ...FoodItem.defaultFoodItem },\r\n      isSelected: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.signalSelect) {\r\n      this.onSelectedFoodChanged(this);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.foodItem !== this.state.foodItem) {\r\n      this.setState({ foodItem: this.props.foodItem });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { foodItem, isSelected } = this.state;\r\n    const { foodname, brand, fat, carbs, protein, sizeinfo } = foodItem;\r\n\r\n    const selectedOrNot = isSelected ? \" feSelected\" : \"\";\r\n    const per = sizeinfo === null ? \"1\" : \"100g\";\r\n\r\n    return (\r\n      <div\n        className={`foodItem lineDown${selectedOrNot}`} role=\"menuitem\" tabIndex=\"0\"\r\n        onClick={this.onSelectedFoodChanged}\n      >\r\n        <span className=\"name_brand\">{`${foodname} ${brand ? `@${brand}` : \"\"}`}</span>\r\n        <span className=\"macro\">{`${fat}/${carbs}/${protein}`}</span>\r\n        <span className=\"per\">{per}</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n    onSelectedFoodChanged = () => this.props.updateSelectedFood(this);\r\n\r\n    toggleSelected = () => this.setState({ isSelected: !this.state.isSelected });\r\n}\r\n\r\nexport default FoodItem;\r\n","// SEND ANDU !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! JOS !!\r\n/* eslint-disable no-console */\r\n/* eslint-disable no-alert */\r\n/* eslint-disable max-lines */\r\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport FoodEntry from \"../../Components/FoodEntry\";\r\nimport FoodItem from \"../../Components/FoodItem\";\r\nimport { getServerURL } from \"../../methods\";\nimport { AppContext } from \"../../AppContext\";\r\n\r\n\r\nclass AddFoodArea extends React.Component {\r\n  static contextType = AppContext;\r\n  static propTypes = {\n    updateAddNewFoodEntry: PropTypes.func.isRequired,\n    updateSelectedFood: PropTypes.func.isRequired,\n    onAddNewMeal: PropTypes.func.isRequired,\n  }\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.newFoodKey = \"mustchange\";\r\n    this.state = {\r\n      selectedFood: null,\r\n      amount: \"\",\r\n      measure: \"---\",\r\n\r\n      searchareaIsLoading: true,\r\n      searchCounter: 0,\r\n\r\n      newFoodForm: false,\r\n      newFoodItem: null,\r\n    };\r\n    this.foodItemsCounter = 0;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setInitialState();\r\n  }\r\n\r\n  render() {\r\n    const { amount, measure, mealareaIsLoading, searchareaIsLoading, newFoodForm }\r\n      = this.state;\r\n\r\n    const searchAreaOrLoading = searchareaIsLoading ? \"LOADING...\" : this._getFoodItems();\r\n\r\n\r\n    return (\r\n      <div className=\"addFoodArea subblock boxShow\">\r\n        {newFoodForm ? (\r\n          <div className=\"newFoodForm\">\r\n            <div className=\"newFoodHeader\">\r\n              <span className=\"textHigh\">Create New Food:</span>\r\n              <button className=\"ftButton\" onClick={this.onToggleFoodForm}>\r\n                +Select\r\n              </button>\r\n            </div>\r\n            <span>Name:</span>\r\n            <input\n              data-field=\"foodname\" maxLength=\"50\" placeholder=\"name\" type=\"text\"\r\n              onChange={this.onChangeFoodValue}\n            />\r\n            <span>Brand:</span>\r\n            <input\n              data-field=\"brand\" maxLength=\"50\" placeholder=\"brand\" type=\"text\"\r\n              onChange={this.onChangeFoodValue}\n            />\r\n            <span>Macros:</span>\r\n            <div>\r\n              <input\n                data-field=\"fat\" maxLength=\"5\" placeholder=\"0\" type=\"text\"\r\n                onChange={this.onChangeFoodValue}\n              />\r\n              <span>Fat</span>\r\n              <input\n                data-field=\"carbs\" maxLength=\"5\" placeholder=\"0\" type=\"text\"\r\n                onChange={this.onChangeFoodValue}\n              />\r\n              <span>Carbs</span>\r\n              <input\n                data-field=\"protein\" maxLength=\"5\" placeholder=\"0\" type=\"text\"\r\n                onChange={this.onChangeFoodValue}\n              />\r\n              <span>Protein</span>\r\n            </div>\r\n            <span>Per:</span>\r\n            <div>\r\n              <select className=\"smallerInput\" data-field=\"per\" onChange={this.onChangeFoodValue} >\r\n                <option>100Grams</option>\r\n                <option>1Piece</option>\r\n              </select>\r\n              <span>Piece Size:</span>\r\n              <input\n                className=\"PSInput smallerInput\" data-field=\"sizeinfo\" defaultValue=\"100\" maxLength=\"5\"\r\n                placeholder=\"null\" type=\"text\" onChange={this.onChangeFoodValue}\n              />\r\n            </div>\r\n            <span>Price:</span>\r\n            <div>\r\n              <input\n                className=\"smallerInput\" data-field=\"price\" maxLength=\"10\" placeholder=\"0\"\r\n                type=\"text\" onChange={this.onChangeFoodValue}\n              />\r\n              <div>\r\n                <span>Is Dish?</span>\r\n                <input data-field=\"isdish\" type=\"checkbox\" onChange={this.onChangeFoodValue} />\r\n              </div>\r\n            </div>\r\n            <span className=\"afaInfo\">\r\n              To add certain details (dish, composition, photo, note)or further edit foods go to Your Foods section.\r\n            </span>\r\n          </div>\r\n        ) : [\r\n          <div key=\"searchForm\" className=\"searchForm boxShow\">\r\n            <span className=\"textHigh\">Search Food: </span>\r\n            <input\n              className=\"isAll\" maxLength=\"100\" type=\"checkbox\"\r\n              onChange={(ev) => this.onLoadSearchFoodItems(document.querySelector(\".search\").value, ev.currentTarget.checked)}\n            />\r\n            ALL\r\n            <button className=\"ftButton\" onClick={this.onToggleFoodForm} >\r\n              +New\r\n            </button>\r\n            <input\n              className=\"search\" placeholder=\"search text\" type=\"text\"\r\n              onChange={(ev) => this.onLoadSearchFoodItems(ev.currentTarget.value, document.querySelector(\".isAll\").checked)}\r\n              onKeyDown={this.onSearchKey}\n            />\r\n          </div>,\r\n          <div key=\"searchResults\" className=\"searchResults boxShow\">\r\n            {searchAreaOrLoading}\r\n          </div>,\r\n        ]}\r\n        <div className=\"amountForm boxShow\">\r\n          <span className=\"textHigh\">Quantity: </span>\r\n          <input\r\n            className=\"amountSize\" disabled={searchareaIsLoading} maxLength=\"10\"\r\n            placeholder={this._getAmountDefault()} type=\"text\" value={amount}\r\n            onChange={(ev) => this.setState({ amount: ev.currentTarget.value })} onKeyDown={this.onAmountKey}\r\n          />\r\n          <select\n            disabled={searchareaIsLoading} id=\"measureSelect\" value={measure}\r\n            onChange={(ev) => this.setState({ measure: ev.currentTarget.value })}\n          >\r\n            <option className={this._getMeasureVisible(\"Grams\")}>\r\n              Grams</option>\r\n            <option className={this._getMeasureVisible(\"Pieces\")}>\r\n              Pieces</option>\r\n            <option className=\"hidden\">---</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"searchEntry boxShow\">\r\n          <span className=\"textHigh lineDown\">Current Entry:</span>\r\n          {this._currentEntry()}\r\n          <button className=\"ftButton\" disabled={searchareaIsLoading} onClick={this.onAddNewFoodEntry}>\r\n            ADD FOOD ENTRY\r\n          </button>\r\n        </div>\r\n        <hr />\r\n        <div className=\"addMealArea\">\r\n          <div>\r\n            <span className=\"textHigh\">Meal Name:</span>\r\n            <input className=\"newMName\" placeholder={\"Meal#\"} type=\"text\" />\r\n            <span className=\"textHigh\">Portion:</span>\r\n            <input className=\"newMPortion\" maxLength=\"5\" placeholder=\"1\" type=\"text\" />\r\n          </div>\r\n          <button className=\"newMeal ftButton\" disabled={mealareaIsLoading} onClick={this.onAddNewMeal}>\r\n            ADD NEW MEAL\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onLoadSearchFoodItems = (searchTerms, isAll) => {\r\n    this.setState({\r\n      sFoodItems: [],\r\n      searchareaIsLoading: true,\r\n      searchCounter: this.state.searchCounter + 1,\r\n    });\r\n    const typeDelay = 150;\r\n    const sc = this.state.searchCounter + 1;\r\n\r\n    setTimeout(async(searchCounter = sc) => {\r\n      if (searchCounter < this.state.searchCounter) {\r\n        return;\r\n      }\r\n\r\n      const { currentUser } = this.context;\r\n\r\n      let res = await fetch(`${getServerURL()}/dailymeals/foodsearch`, {\r\n        method: \"get\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          \"userid\": currentUser.userid,\r\n          \"search\": searchTerms,\r\n          \"isall\": isAll,\r\n        },\r\n      });\r\n      res = await res.json();\r\n      if (searchCounter < this.state.searchCounter) {\r\n        return;\r\n      }\r\n\r\n      if (res.length === 0) {\r\n        this.setState({\r\n          selectedFood: null,\r\n          measure: \"---\",\r\n          amount: \"\",\r\n        });\r\n      }\r\n      this.setState({\r\n        sFoodItems: res,\r\n        searchareaIsLoading: false,\r\n      });\r\n    }, typeDelay);\r\n\r\n    // SEND ANDU !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n    // if (first) {\r\n    //   this.setState({\r\n    //     selectedFood: null,\r\n    //     measure: \"---\",\r\n    //     sFoodItems,\r\n    //     sFoodCounter,\r\n    //     searchareaIsLoading: false,\r\n    //   })\r\n    // } else {\r\n    //   this.setState({\r\n    //     sFoodItems,\r\n    //     sFoodCounter,\r\n    //     searchareaIsLoading: false,\r\n    //   })\r\n    // }\r\n  };\r\n\r\n  onSearchKey = (ev) => {\r\n    const { selectedFood, sFoodItems } = this.state;\r\n\r\n    switch (ev.key) {\r\n      case \"Enter\":\r\n        this.onAddNewFoodEntry();\r\n        ev.preventDefault();\r\n        break;\r\n      case \"Tab\":\r\n        document.querySelector(\".amountSize\").select();\r\n        ev.preventDefault();\r\n        break;\r\n      case \"Escape\":\r\n        document.querySelector(\".search\").value = \"\";\r\n        ev.preventDefault();\r\n        break;\r\n      case \"ArrowUp\":\r\n        if (selectedFood) {\r\n          for (let i = 0; i < sFoodItems.length; i += 1) {\r\n            if (sFoodItems[i].key === selectedFood._reactInternalFiber.key) {\r\n              if (i === 0) {\r\n                break;\r\n              } else {\r\n                document.querySelectorAll(\".foodItem\")[i - 1].click();\r\n              }\r\n            }\r\n          }\r\n        }\r\n        ev.preventDefault();\r\n        break;\r\n      case \"ArrowDown\":\r\n        if (selectedFood) {\r\n          for (let i = 0; i < sFoodItems.length; i += 1) {\r\n            if (sFoodItems[i].key === selectedFood._reactInternalFiber.key) {\r\n              if (i === sFoodItems.length - 1) {\r\n                break;\r\n              } else {\r\n                document.querySelectorAll(\".foodItem\")[i + 1].click();\r\n              }\r\n            }\r\n          }\r\n        }\r\n        ev.preventDefault();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  onAmountKey = (ev) => {\r\n    // TODO:Up/Down keys map?\r\n    switch (ev.key) {\r\n      case \"Enter\":\r\n        this.onAddNewFoodEntry();\r\n        ev.preventDefault();\r\n        break;\r\n      case \"Tab\":\r\n        document.querySelector(\".search\").select();\r\n        ev.preventDefault();\r\n        break;\r\n      case \"Escape\":\r\n        document.querySelector(\".amountSize\").value = \"\";\r\n        ev.preventDefault();\r\n        break;\r\n      case \"ArrowUp\":\r\n      // TODO:Change Measure maybe??\r\n        console.log(ev.key);\r\n        ev.preventDefault();\r\n        break;\r\n      case \"ArrowDown\":\r\n      // TODO:Change Measure??\r\n        console.log(ev.key);\r\n        ev.preventDefault();\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\n\n  onAddNewFoodEntry = () => {\n    const { newFoodForm, newFoodItem, selectedFood, amount, measure } = this.state;\n\n    const errorMessage = this.addNewFoodEntryChecks();\n    if (errorMessage) {\n      alert(errorMessage);\n    } else {\n      const newFoodEntry = newFoodForm ? newFoodItem : selectedFood.state.foodItem;\n      newFoodEntry.amount = amount ? amount : document.querySelector(\".amountSize\").placeholder;\n      newFoodEntry.measure = measure;\n\n      this.props.updateAddNewFoodEntry(newFoodEntry);\n    }\n  };\n\n  onAddNewMeal = () => {\n    const newMName = document.querySelector(\".newMName\").value;\n    const newMPortion = document.querySelector(\".newMPortion\").value;\n    this.props.onAddNewMeal(newMName, newMPortion);\n  };\n\n  onToggleFoodForm = () => {\n    const { newFoodForm } = this.state;\n\n    if (newFoodForm) {\n      this.setState({ newFoodForm: !newFoodForm });\n    } else {\n      this.setState({ newFoodForm: true, selectedFood: null, measure: \"Grams\", amount: 100 });\n    }\n  };\n\n  onChangeFoodValue = (ev) => {\n    const { newFoodItem } = this.state;\n    const { value } = ev.currentTarget;\n\n    const field = ev.currentTarget.getAttribute(\"data-field\");\n    const psi = document.querySelector(\".PSInput\");\n\n    switch (field) {\n      case \"per\":\n        if (value === \"1Piece\") {\n          psi.disabled = true;\n          psi.value = \"\";\n          newFoodItem.sizeinfo = null;\n          this.setState({ amount: 1 });\n        } else {\n          psi.disabled = false;\n          psi.value = 100;\n          newFoodItem.sizeinfo = 100;\n          this.setState({ amount: 100 });\n        }\n        break;\n      case \"isdish\":\n        newFoodItem.foodentries = value === true ? [] : null;\n        break;\n      case \"sizeinfo\":\n        newFoodItem[field] = value === \"\" ? null : value;\n        break;\n      case \"fat\" || \"carbs\" || \"protein\":\n        newFoodItem[field] = value === \"\" ? 0 : value;\n        break;\n      default:\n        newFoodItem[field] = value;\n    }\n\n    this.setState({\n      newFoodItem,\n      measure: newFoodItem.sizeinfo === null ? \"Pieces\" : \"Grams\",\n    });\n  };\n\n  addNewFoodEntryChecks = () => {\n    const { newFoodForm, newFoodItem, selectedFood, amount, measure } = this.state;\n\n    if (newFoodForm) {\n      if (newFoodItem.foodname === \"\") {\n        return \"New Food must have a Name !\";\n      }\n      const sum = Number(newFoodItem.fat) + Number(newFoodItem.carbs) + Number(newFoodItem.protein);\n      if (isNaN(sum) || (measure === \"Grams\" && (sum > 100 || sum <= 0))) {\n        return \"Macro value are wrong!\";\n      }\n      if (isNaN(newFoodItem.price)) {\n        return \"Price value is wrong!\";\n      }\n      if (isNaN(newFoodItem.sizeinfo) || newFoodItem.sizeinfo < 0) {\n        return \"Piece Size value is wrong!\";\n      }\n    } else if (selectedFood === null) {\n      return \"Must select a Food Item !\";\n    }\n    if (isNaN(amount)) {\n      return \"Must Enter Valid Number for Amount!\";\n    }\n\n    return \"\";\n  };\n\n  updateSelectedFood = (sender) => {\n    const { selectedFood } = this.state;\n\n    if (sender === selectedFood) {\n      return;\n    }\n    if (selectedFood) {\n      selectedFood.toggleSelected();\n    }\n    sender.toggleSelected();\n\n    this.setState({\n      selectedFood: sender,\n      amount: \"\",\n      measure: sender.state.foodItem.sizeinfo === null ? \"Pieces\" : \"Grams\",\n    });\n\n    this.props.updateSelectedFood(sender);\n  };\n\n  resetAfterAdd = () => {\n    const { newFoodForm } = this.state;\n    const { currentUser } = this.context;\n\n    if (newFoodForm) {\n      this.setState({\n        newFoodItem: {\n          foodname: \"\",\n          brand: \"\",\n          fat: 0, carbs: 0, protein: 0,\n          price: 0,\n          sizeinfo: 100,\n          isdish: false,\n          pic: \"empty.png\",\n          userid: currentUser.userid,\n          noteid: null,\n          foodentries: null,\n        },\n      });\n    } else {\n      document.querySelector(\".search\").select();\n    }\n  };\n\n  setInitialState=() => {\n    const { currentUser } = this.context;\n\n    this.setState({\n      newFoodItem: {\n        foodname: \"\",\n        brand: \"\",\n        fat: 0, carbs: 0, protein: 0,\n        price: 0,\n        sizeinfo: 100,\n        isdish: false,\n        pic: \"empty.png\",\n        userid: currentUser.userid,\n        noteid: null,\n        foodentries: null,\n      },\n    });\n\n    setTimeout(() => {\n      this.onLoadSearchFoodItems(\"\", false);\n    }, 0);\n  };\n\r\n  _currentEntry = () => {\r\n    const { selectedFood, measure, newFoodForm, newFoodItem } = this.state;\r\n\r\n    const selectedOrNull = selectedFood ? selectedFood.state.foodItem : FoodItem.defaultFoodItem;\r\n    const newEntry = newFoodForm ? newFoodItem : selectedOrNull;\r\n    newEntry.measure = measure;\r\n    newEntry.amount = this._getAmountCurrent();\r\n\n    return <FoodEntry foodEntry={newEntry} readOnly=\"true\" />;\r\n  };\r\n\r\n  _getAmountCurrent = () => {\r\n    const { amount } = this.state;\r\n\r\n    if (amount) {\n      return amount;\n    }\r\n\r\n    return this._getAmountDefault();\r\n  };\r\n\r\n  _getAmountDefault = () => {\r\n    const { selectedFood, measure } = this.state;\r\n\r\n    if (!selectedFood) {\r\n      return 0;\r\n    }\r\n    if (measure === \"Pieces\") {\r\n      return 1;\r\n    }\r\n    const { sizeinfo } = selectedFood.state.foodItem;\r\n\r\n    return sizeinfo === 0 ? 100 : sizeinfo;\r\n  };\r\n\r\n  _getMeasureVisible = (measure) => {\r\n    const { selectedFood } = this.state;\r\n    if (!selectedFood) {\r\n      return \"hidden\";\r\n    }\r\n\r\n    const { foodItem } = selectedFood.state;\r\n    if (measure === \"Grams\") {\r\n      return foodItem.sizeinfo === null ? \"hidden\" : \"\";\r\n    }\r\n    if (measure === \"Pieces\") {\r\n      return foodItem.sizeinfo === 0 ? \"hidden\" : \"\";\r\n    }\r\n\n    return \"\";\r\n  };\r\n\r\n  _getFoodItems = () => {\r\n    const { sFoodItems } = this.state;\r\n\r\n    this.foodItemsCounter = 0;\r\n\r\n    return sFoodItems.map(this._getFoodItem);\r\n\r\n  };\r\n\r\n  _getFoodItem = (item) => {\r\n    const fi = (\r\n      <FoodItem\r\n        key={this.foodItemsCounter} foodItem={item} signalSelect={this.foodItemsCounter === 0}\r\n        updateSelectedFood={this.updateSelectedFood}\r\n      />);\r\n    this.foodItemsCounter += 1;\r\n\r\n    return fi;\r\n  };\r\n}\r\n\r\nexport default AddFoodArea;\r\n","/* eslint-disable no-console */\r\n/* eslint-disable no-alert */\r\n/* eslint-disable jsx-a11y/click-events-have-key-events */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\n\r\nimport FoodItem from \"../../Components/FoodItem\";\r\nimport FoodEntry from \"../../Components/FoodEntry\";\r\nimport { getServerURL } from \"../../methods\";\r\nimport { AppContext } from \"../../AppContext\";\n\r\n\r\nclass FoodDetailsArea extends React.Component {\r\n  static contextType = AppContext;\r\n  static propTypes = {\r\n    isDishSelected: PropTypes.bool.isRequired,\n    updateDishSelect: PropTypes.func.isRequired,\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { selectedFoodDetails: FoodItem.defaultFoodItem };\r\n    this.foodEntriesCounter = 0;\r\n  }\r\n\r\n  render = () => {\r\n    const { selectedFoodDetails } = this.state;\r\n\r\n    if (!selectedFoodDetails) {\n      return (\r\n        <div className=\"foodDetailsArea subblock boxShow\">\r\n          LOADING...\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const { isDishSelected } = this.props;\r\n    const { foodname, brand, fat, carbs, protein, price, pic } = selectedFoodDetails;\r\n\r\n    const calories = ((fat * 9) + (protein * 4) + (carbs * 4)).toFixed(1);\r\n    const highlightOrNot = isDishSelected ? \" highlight\" : \"\";\r\n    const brandOrNot = brand ? `@${brand}` : \"\";\r\n    const picOrEmpty = pic === null ? \"empty.png\" : pic;\n\n    return (\r\n      <div\n        className={`foodDetailsArea subblock boxShow${highlightOrNot}`}\r\n        role=\"menuitem\" tabIndex={0} onClick={this.onDishSelect}\n      >\r\n        <div className=\"foodDetailsHeader\">\r\n          <div className=\"textHigh boxShow\">{`${foodname} ${brandOrNot}`}</div>\r\n          {/* <Note removeNote={() => { }} note={selectedFoodDetails ? selectedFoodDetails.note : null}\r\n          key={\"F\" + (selectedFoodDetails.note ? selectedFoodDetails.note.noteid : \"0\")}\r\n          />*/}\r\n        </div>\r\n        <div className=\"foodPic boxShow\">\r\n          <img alt=\"[NO FOOD PIC]\" src={`FoodPics/${picOrEmpty}`} />\r\n        </div>\r\n        <div className=\"foodInfo\">\r\n          <table>\r\n            <thead>\r\n              <tr><th>Name</th><td colSpan=\"2\">{foodname}</td></tr>\r\n              <tr><th>Brand</th><td colSpan=\"2\">{brand ? brand : \"--\"}</td></tr>\r\n              <tr><th>Macro</th><th>100g</th><th>1p</th></tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr><td>Fat</td>\r\n                <td>{this._infoForMeasure(\"Grams\", fat)}</td>\r\n                <td>{this._infoForMeasure(\"Pieces\", fat)}</td></tr>\r\n              <tr><td>Carbs</td>\r\n                <td>{this._infoForMeasure(\"Grams\", carbs)}</td>\r\n                <td>{this._infoForMeasure(\"Pieces\", carbs)}</td></tr>\r\n              <tr><td>Protein</td>\r\n                <td>{this._infoForMeasure(\"Grams\", protein)}</td>\r\n                <td>{this._infoForMeasure(\"Pieces\", protein)}</td></tr>\r\n              <tr><td>Calories</td>\r\n                <td>{this._infoForMeasure(\"Grams\", calories)}</td>\r\n                <td>{this._infoForMeasure(\"Pieces\", calories)}</td></tr>\r\n              <tr><td>Price</td>\r\n                <td>{this._infoForMeasure(\"Grams\", price)}</td>\r\n                <td>{this._infoForMeasure(\"Pieces\", price)}</td></tr>\r\n            </tbody>\r\n          </table>\r\n          {this._compositionOrNot()}\r\n          {this._dishButtonsOrNot()}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  onDishSelect = () => {\r\n    const { isdish } = this.state.selectedFoodDetails;\r\n    const { isDishSelected } = this.props;\r\n\r\n    if (isdish && !isDishSelected) {\r\n      this.props.updateDishSelect(true);\r\n    }\r\n  };\r\n\r\n  onCalculateDishValues = () => {\r\n    const { selectedFoodDetails } = this.state;\r\n    this.setState({ selectedFoodDetails: null },\r\n      async() => {\r\n        let fat = 0; let carbs = 0; let protein = 0;\r\n        for (const entry of selectedFoodDetails.foodentries) {\r\n          const { amount, measure, sizeinfo } = entry;\r\n          if (measure === \"Pieces\") {\r\n            if (sizeinfo === null) {\r\n              fat += (entry.fat * amount);\r\n              carbs += (entry.carbs * amount);\r\n              protein += (entry.protein * amount);\r\n            } else {\r\n              fat += (entry.fat * amount * sizeinfo / 100);\r\n              carbs += (entry.carbs * amount * sizeinfo / 100);\r\n              protein += (entry.protein * amount * sizeinfo / 100);\r\n            }\r\n          } else if (measure === \"Grams\") {\r\n            fat += (entry.fat * amount / 100);\r\n            carbs += (entry.carbs * amount / 100);\r\n            protein += (entry.protein * amount / 100);\r\n          }\r\n        }\r\n        selectedFoodDetails.fat = Number(fat.toFixed(1));\r\n        selectedFoodDetails.carbs = Number(carbs.toFixed(1));\r\n        selectedFoodDetails.protein = Number(protein.toFixed(1));\r\n\r\n        let res = await fetch(`${getServerURL()}/yourfoods`, {\r\n          method: \"post\",\r\n          headers: { \"content-type\": \"application/json\" },\r\n          body: JSON.stringify(selectedFoodDetails),\r\n        });\r\n        res = await res.json();\r\n\r\n        this.setState({ selectedFoodDetails }, () => {\r\n          console.log(res);\r\n          if (typeof res !== \"string\") {\r\n            alert(`Successfully calculated dish values: ${selectedFoodDetails.foodname} ${selectedFoodDetails.brand}!\\n\r\n            --You can view resulting entry in the console`);\r\n          } else {\r\n            alert(\"There was an Error!\");\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  onSaveDishIngr = () => {\r\n    const { selectedFoodDetails } = this.state;\r\n\r\n    this.setState({ selectedFoodDetails: null }, async() => {\r\n      const dishData = {};\r\n      dishData.dishid = selectedFoodDetails.foodid;\r\n      dishData.foodentries = [];\r\n      for (const f of selectedFoodDetails.foodentries) {\r\n        dishData.foodentries.push({ foodid: f.foodid, amount: f.amount, measure: f.measure });\r\n      }\r\n\r\n      let res = await fetch(`${getServerURL()}/dailymeals/dishupdate`, {\r\n        method: \"post\",\r\n        headers: { \"content-type\": \"application/json\" },\r\n        body: JSON.stringify(dishData),\r\n      });\r\n      res = await res.json();\r\n\r\n      this.setState({ selectedFoodDetails }, () => {\r\n        console.log(res);\r\n        if (typeof res !== \"string\") {\r\n          alert(`Successfully saved dish: ${selectedFoodDetails.foodname} ${selectedFoodDetails.brand}!\\n\r\n                      --You can view resulting entry in the console`);\r\n        } else {\r\n          alert(\"There was an Error!\");\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  updateRemoveFoodEntry = (sender) => {\r\n    const { selectedFoodDetails } = this.state;\r\n\r\n    selectedFoodDetails.foodentries.splice(sender._reactInternalFiber.key, 1);\r\n    this.setState({ selectedFoodDetails });\r\n  };\r\n\r\n  updateNewFoodEntry = (newFoodEntry) => {\r\n    const { selectedFoodDetails } = this.state;\r\n    const { currentUser } = this.context;\r\n\r\n    if (currentUser.access === \"Guest\" && selectedFoodDetails.foodentries.length >= 7) {\r\n      return \"As Guest user you cannot enter more than 7 Food Items per Dish!\";\r\n    }\r\n\r\n    selectedFoodDetails.foodentries.push(newFoodEntry);\r\n    this.setState({ selectedFoodDetails });\r\n\r\n    return \"\";\r\n  };\r\n\r\n  updateSelectedFoodDetails = (selectedFood) => this.setState({ selectedFoodDetails: null },\r\n    async() => {\r\n      const { foodid, isdish, noteid } = selectedFood.state.foodItem;\r\n\r\n      let res = await fetch(`${getServerURL()}/dailymeals/fooddetails`, {\r\n        method: \"get\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n          foodid,\r\n          isdish,\r\n          \"noteid\": noteid ? noteid : null,\r\n        },\r\n      });\r\n      res = await res.json();\r\n\r\n      const newFoodDetails = selectedFood.state.foodItem;\r\n      newFoodDetails.foodentries = res.foodentries;\r\n      newFoodDetails.note = res.note;\r\n\r\n      this.setState({ selectedFoodDetails: newFoodDetails });\r\n    });\r\n\r\n  _infoForMeasure = (measureStr, infoValue) => {\r\n    const { sizeinfo } = this.state.selectedFoodDetails;\r\n    const measure = sizeinfo === null ? \"Pieces\" : \"Grams\";\r\n\r\n    return measure === measureStr ? `${infoValue}` : \"--\";\r\n  };\r\n\r\n  _compositionOrNot = () => {\r\n    const { selectedFoodDetails } = this.state;\r\n\r\n    if (selectedFoodDetails.isdish) {\r\n      this.foodEntriesCounter = 0;\r\n\n      return (\r\n        <div className=\"foodEntries boxShow\">\r\n          <div className=\"comp textHigh\">Composition:</div>\r\n          {this._getFoodEntries()}\r\n        </div>\r\n      );\r\n    }\r\n\n    return \"\";\r\n  };\r\n\r\n  _getFoodEntries = () => {\r\n    const { selectedFoodDetails } = this.state;\r\n\r\n    this.foodEntriesCounter = 0;\r\n\n    return selectedFoodDetails.foodentries.map(this._getFoodEntry);\r\n  };\n\r\n  _getFoodEntry = (entry) => {\r\n    const fe = (\r\n      <FoodEntry\r\n        key={this.foodEntriesCounter} foodEntry={entry}\r\n        updateRemoveFoodEntry={this.updateRemoveFoodEntry}\n      />);\r\n    this.foodEntriesCounter += 1;\r\n\n    return fe;\r\n  };\r\n\r\n  _dishButtonsOrNot = () => {\r\n    const { isDishSelected } = this.props;\r\n\r\n    if (isDishSelected) {\r\n      return (\r\n        <div className=\"tcenter\">\r\n          <button className=\"ftButton\" onClick={this.onSaveDishIngr}>SAVE ENTRIES</button>\r\n          <button className=\"ftButton\" onClick={this.onCalculateDishValues}>CALC VALUES</button>\r\n        </div>\r\n      );\r\n    }\r\n\n    return \"\";\r\n  };\r\n}\r\n\r\nexport default FoodDetailsArea;\r\n","/* eslint-disable no-console */\r\n/* eslint-disable no-alert */\r\nimport React from \"react\";\r\nimport \"../Css/DailyMeals.css\";\r\n\r\n// import FoodEntry from \"../Components/FoodEntry\";\n// import FoodItem from \"../Components/FoodItem\";\r\n// import MealEntry from \"../Components/MealEntry\";\r\nimport { AppContext } from \"../AppContext\";\n\r\nimport DayArea from \"./PagePanels/DayArea\";\r\nimport AddFoodArea from \"./PagePanels/AddFoodArea\";\r\nimport FoodDetailsArea from \"./PagePanels/FoodDetailsArea\";\r\n\r\n\r\nclass DailyMeals extends React.Component {\r\n  static contextType = AppContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      dayArea: null,\r\n      addFoodArea: null,\r\n      foodDetailsArea: null,\r\n      isDishSelected: false,\r\n    };\r\n  }\n\n  render = () => {\n    const { isDishSelected } = this.state;\n\n    return (\n      <main className=\"mainDailyMeals boxShow\" >\n        <DayArea ref={this.dayAreaRef} updateDishSelect={this.updateDishSelect} />\n        <AddFoodArea\n          ref={this.addFoodAreaRef} updateAddNewFoodEntry={this.updateAddNewFoodEntry}\n          updateSelectedFood={this.updateSelectedFood} onAddNewMeal={this.onAddNewMeal}\n        />\n        <FoodDetailsArea\n          ref={this.foodDetailsAreaRef} isDishSelected={isDishSelected}\n          updateDishSelect={this.updateDishSelect}\n        />\n      </main>\n    );\n  };\r\n\r\n  onAddNewMeal = (mealName, portion) => {\r\n    const errorMessage = this.state.dayArea.onAddNewMeal(mealName, portion);\r\n    if (errorMessage) {\r\n      alert(errorMessage);\r\n    } else {\r\n      this.state.addFoodArea.resetAfterAdd();\r\n    }\r\n  };\r\n\r\n  updateSelectedFood = (selectedFood) => {\r\n    const { isDishSelected } = this.state;\r\n\r\n    if (!isDishSelected) {\r\n      this.state.foodDetailsArea.updateSelectedFoodDetails(selectedFood);\r\n    }\r\n  };\r\n\r\n  updateAddNewFoodEntry = (newFoodEntry) => {\r\n    const { isDishSelected } = this.state;\r\n\r\n    let errorMessage = \"\";\r\n    if (isDishSelected) {\r\n      errorMessage = this.state.foodDetailsArea.updateNewFoodEntry(newFoodEntry);\r\n    } else {\r\n      errorMessage = this.state.dayArea.updateNewFoodEntry(newFoodEntry);\r\n    }\r\n\r\n    if (errorMessage) {\r\n      alert(errorMessage);\r\n    } else {\r\n      this.state.addFoodArea.resetAfterAdd();\r\n    }\r\n  };\r\n\r\n  dayAreaRef = (node) => this.setState({ dayArea: node });\r\n  addFoodAreaRef = (node) => this.setState({ addFoodArea: node });\r\n  foodDetailsAreaRef = (node) => this.setState({ foodDetailsArea: node });\r\n\r\n  updateDishSelect = (status) => {\r\n    if (status) {\r\n      this.state.dayArea.updateSelectedMeal(null);\r\n    }\r\n    this.setState({ isDishSelected: status });\r\n  };\r\n}\r\n\r\nexport default DailyMeals;\r\n","import React from \"react\";\n\r\n\r\nconst YourFood = () => (\r\n  <main className=\"boxShow\">\r\n    <div className=\"subblock\">\r\n      <h1>YOUR FOOD!</h1>\r\n    </div>\r\n  </main>\r\n);\r\n\r\nexport default YourFood;\r\n","import React from \"react\";\n\r\n\r\nconst YourPlans = () => (\r\n  <main className=\"boxShow\">\r\n    <div className=\"subblock\">\r\n      <h1>YOUR PLANS!</h1>\r\n    </div>\r\n  </main>\r\n);\r\n\r\nexport default YourPlans;\r\n","import React from \"react\";\n\r\n\r\nconst YourStats = () => (\r\n  <main className=\"boxShow\">\r\n    <div className=\"subblock\">\r\n      <h1>YOUR STATS!</h1>\r\n    </div>\r\n  </main>\r\n);\r\n\r\nexport default YourStats;\r\n","import React from \"react\";\n\r\n\r\nconst GlobalStats = () => (\r\n  <main className=\"boxShow\">\r\n    <div className=\"subblock\">\r\n      <h1>GLOBAL STATS!</h1>\r\n    </div>\r\n  </main>\r\n);\r\n\r\nexport default GlobalStats;\r\n","import React from \"react\";\n\r\n\r\nconst UsersData = () => (\r\n  <main className=\"boxShow\">\r\n    <div className=\"subblock\">\r\n      <h1>USERS DATA!</h1>\r\n    </div>\r\n  </main>\r\n);\r\n\r\nexport default UsersData;\r\n","import React from \"react\";\n\r\nimport \"../Css/UserForms.css\";\r\nimport { AppContext } from \"../AppContext\";\nimport { getServerURL } from \"../methods\";\n\r\n\r\nclass Profile extends React.Component {\r\n  static contextType = AppContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    // const { username, email, firstname, lastname, dob, sex, describe, pic, diet } = this.context.currentUser;\r\n\r\n    this.state = {\r\n      // username,\r\n      // email,\r\n      // firstname,\r\n      // lastname,\r\n      // dob,\r\n      // sex,\r\n      // describe,\r\n      // pic,\r\n      // diet,\r\n\r\n      passNow: \"\",\r\n      passNew: \"\",\r\n      passConfirm: \"\",\r\n\r\n      warning: null,\r\n      isLoading: false,\r\n    };\r\n  }\r\n\r\n  passRegex = /^(?=.*?\\d)(?=.*?[a-zA-Z]).+$/;\r\n\r\n  UNSAFE_componentWillMount = () => {\r\n    const { username, email, firstname, lastname, dob, sex, describe, pic, diet } = this.context.currentUser;\r\n\r\n    this.setState({\r\n      username,\r\n      email,\r\n      firstname,\r\n      lastname,\r\n      dob,\r\n      sex,\r\n      describe,\r\n      pic,\r\n      diet,\r\n    });\r\n  };\r\n\r\n  render = () => {\r\n    const { username, email, firstname, lastname, dob, sex, describe, pic, diet, warning, isLoading } = this.state;\r\n\r\n    return (\r\n      <main className=\"mainUserForm boxShow\">\r\n        <form className=\"userform subblock boxShow\" onReset={this.cancelChangeProfile} onSubmit={this.onChangeProfile}>\r\n          <h1 className=\"lineDown\">Profile Info</h1>\r\n          <div className=\"fields\">\r\n            <span>Username:</span>\r\n            <input minLength=\"3\" name=\"username\" type=\"text\" value={username} onChange={(ev) => this.setState({ username: ev.currentTarget.value })} />\r\n            <span className={`warning${warning === \"username\" ? \"\" : \" hidden\"}`}>Username is Already Taken!</span>\r\n            <span>Email:</span>\r\n            <input name=\"email\" type=\"text\" value={email} onChange={(ev) => this.setState({ email: ev.currentTarget.value })} />\r\n            <span className={`warning${warning === \"email\" ? \"\" : \" hidden\"}`}>Email is Already Taken!</span>\r\n            <div className=\"personal\">\r\n              <div>\r\n                <img alt=\"[NO PIC]\" src={`UserPics/${pic}`} /><br />\r\n                <button className=\"ftButton\" disabled={isLoading} onClick={this.browseUserPic}>Browse</button>\r\n              </div>\r\n              <div>\r\n                <span>Description:</span><br />\r\n                <textarea placeholder=\"Say who you are in a few short phrases..\" value={describe} onChange={(ev) => this.setState({ describe: ev.currentTarget.value })} />\r\n              </div>\r\n            </div>\r\n            <span>First Name:</span>\r\n            <input name=\"firstname\" type=\"text\" value={firstname} onChange={(ev) => this.setState({ firstname: ev.currentTarget.value })} />\r\n            <span>Last Name:</span>\r\n            <input name=\"lastname\" type=\"text\" value={lastname} onChange={(ev) => this.setState({ lastname: ev.currentTarget.value })} />\r\n            <div>\r\n              <span>Sex:</span>\r\n              <input checked={sex === \"1\"} name=\"sex\" type=\"radio\" value=\"male\" onChange={(ev) => this.setState({ sex: \"1\" })} />\r\n              <span>Male </span>\r\n              <input checked={sex === \"0\"} name=\"sex\" type=\"radio\" value=\"female\" onChange={(ev) => this.setState({ sex: \"0\" })} />\r\n              <span>Female</span>\r\n            </div>\r\n            <span>Date Of Birth:</span>\r\n            <input name=\"dob\" type=\"date\" value={dob} onChange={(ev) => this.setState({ dob: ev.currentTarget.value })} />\r\n            <span className={`warning${warning === \"dob\" ? \"\" : \" hidden\"}`}>Incorrect date!</span>\r\n            <span>Diet Plans:</span>\r\n            <select value={diet ? diet : \"none\"} onChange={(ev) => this.setState({ diet: (ev.currentTarget.value === \"none\" ? null : ev.currentTarget.value) })}>\r\n              <option>none</option>\r\n              <option>Calorie Restrict</option>\r\n              <option>Paleo</option>\r\n              <option>Keto</option>\r\n              <option>Mediterranian</option>\r\n              <option>Vegetarian</option>\r\n              <option>Vegan</option>\r\n              <option>Carnivore</option>\r\n              <option>Low Carb</option>\r\n              <option>Low Fat</option>\r\n              <option>PSMF</option>\r\n              <option>Specific/Personal Plan</option>\r\n            </select>\r\n            <div className=\"profileButtons\">\r\n              <input className=\"ftButton\" disabled={isLoading} type=\"submit\" value=\"Save Changes\" />\r\n              <input className=\"ftButton\" disabled={isLoading} type=\"reset\" value=\"Cancel\" />\r\n            </div>\r\n          </div>\r\n        </form>\r\n\r\n        <form className=\"userform subblock boxShow\" onSubmit={this.onChangePassword}>\r\n          <h1 className=\"lineDown\">Change Password</h1>\r\n          <div className=\"fields\">\r\n            <span>Current Password:</span>\r\n            <input minLength=\"8\" name=\"passnow\" type=\"password\" onChange={(ev) => this.setState({ passNow: ev.currentTarget.value })} />\r\n            <span>New Password: </span>\r\n            <input minLength=\"8\" name=\"passnew\" type=\"password\" onChange={(ev) => this.setState({ passNew: ev.currentTarget.value })} />\r\n            <span className={`warning${warning === \"passNew\" ? \"\" : \" hidden\"}`}>Invalid Password!</span>\r\n            <span className=\"detail\">Password must be at least 8characters long and have both numbers and letters!</span>\r\n            <span>Confirm New Password:</span>\r\n            <input minLength=\"8\" name=\"passConfirm\" type=\"password\" onChange={(ev) => this.setState({ passConfirm: ev.currentTarget.value })} />\r\n            <span className={`warning${warning === \"passConfirm\" ? \"\" : \" hidden\"}`}>Passwords do Not Match!</span>\r\n            <div className=\"profileButtons\">\r\n              <input className=\"ftButton\" disabled={isLoading} type=\"submit\" value=\"Save Changes\" />\r\n              <input className=\"ftButton\" disabled={isLoading} type=\"reset\" value=\"Cancel\" />\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </main>\r\n    );\r\n  };\r\n\r\n  onChangeProfile = (ev) => {\r\n    ev.preventDefault();\r\n    this.setState({ isLoading: true });\r\n\r\n    (async() => {\r\n      const { username, email, firstname, lastname, dob, sex, describe, pic, diet } = this.state;\r\n      const { updateUser, currentUser } = this.context;\r\n\r\n      if (dob !== \"\" && new Date(dob) > new Date()) {\n        this.setState({ warning: \"dob\" });\n      } else {\r\n        let res = await fetch(`${getServerURL()}/profile`, {\r\n          method: \"post\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            userid: currentUser.userid,\r\n            username,\r\n            email,\r\n            firstname: firstname === \"\" ? null : firstname,\r\n            lastname: lastname === \"\" ? null : lastname,\r\n            dob: dob === \"\" ? null : dob,\r\n            sex: sex === \"\" ? null : sex,\r\n            describe: describe === \"\" ? null : describe,\r\n            pic: pic === \"\" ? null : pic,\r\n            diet,\r\n          }),\r\n        });\r\n        res = await res.json();\r\n\r\n        if (res.includes(\"Username\")) {\n          this.setState({ warning: \"username\" });\n        } else if (res.includes(\"Email\")) {\n          this.setState({ warning: \"email\" });\n        } else if (res === \"User Profile Updated!\") {\r\n          updateUser(this.state);\r\n        } else {\n          console.log(res);\n        }\r\n      }\r\n      this.setState({ isLoading: false });\r\n    })();\r\n  };\r\n\r\n  onChangePassword = (ev) => {\r\n    ev.preventDefault();\r\n    const { passNow, passNew, passConfirm } = this.state;\r\n    const { currentUser } = this.context;\r\n\r\n    if (!passNew.match(this.passRegex)) {\n      this.setState({ warning: \"passNew\" });\n    } else if (passNew !== passConfirm) {\n      this.setState({ warning: \"passConfirm\" });\n    } else {\r\n      ev.preventDefault();\r\n      this.setState({ isLoading: true });\r\n\r\n      (async() => {\r\n        try {\r\n          let res = await fetch(`${getServerURL()}/profile/changepass`, {\r\n            method: \"post\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({\r\n              userid: currentUser.userid,\r\n              oldpass: passNow,\r\n              newpass: passNew,\r\n            }),\r\n          });\r\n          res = await res.json();\r\n          console.log(res);\r\n        } catch (err) {\r\n          console.log(\"___________ERROR___________\\n\", err.message);\r\n        } finally {\r\n          this.setState({ isLoading: false });\r\n        }\r\n      })();\r\n    }\r\n  };\r\n\r\n  cancelChangeProfile = (ev) => {\r\n    ev.preventDefault();\r\n    const { username, email, firstname, lastname, dob, sex, pic, describe, diet } = this.context.currentUser;\r\n\r\n    this.setState({\r\n      username,\r\n      email,\r\n      firstname,\r\n      lastname,\r\n      dob,\r\n      sex,\r\n      describe,\r\n      pic,\r\n      diet,\r\n    });\r\n  };\r\n\r\n  browseUserPic = (ev) => {\r\n    ev.preventDefault();\r\n\r\n    alert(\"Sorry. Not implemented yet...\");\r\n  };\r\n}\r\n\r\nexport default Profile;\r\n","/* eslint-disable no-console */\n/* eslint-disable no-alert */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React from \"react\";\n\r\nimport \"../Css/UserForms.css\";\r\nimport { AppContext } from \"../AppContext\";\r\nimport { getServerURL } from \"../methods\";\r\n\r\n// import { NavLink } from 'react-router-dom';\r\n\r\nclass Login extends React.Component {\r\n  static contextType = AppContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      warningMsg: null,\r\n      isLoading: false,\r\n    };\r\n  }\r\n\r\n  render = () => {\r\n    const { warningMsg, isLoading } = this.state;\r\n    const { changeMainPage } = this.context;\r\n\r\n    return (\r\n      <main className=\"mainUserForm boxShow\">\r\n        <form className=\"userform subblock boxShow\" onSubmit={this.onLogin}>\r\n          <h1 className=\"lineDown\">Enter Username/Email and Password to Login!</h1>\r\n          <div className=\"fields\">\r\n            <span>Username/Email:</span>\r\n            <input name=\"username\" type=\"text\" />\r\n            <span>Password:</span>\r\n            <input name=\"password\" type=\"password\" />\r\n            <span disabled={isLoading}>\r\n              Remember Me?\r\n              <input name=\"member\" type=\"checkbox\" />\r\n            </span>\r\n            <span className={warningMsg === null ? \"hidden\" : \"warning\"}>{this.state.warningMsg}</span>\r\n            <input className=\"ftButton\" disabled={isLoading} type=\"submit\" value=\"Login\" />\r\n          </div>\r\n          {/*\n        <div className=\"loglinks\">\n        <NavLink to=\"/\">Forgot Password?</NavLink>\n        <NavLink to=\"/Register\">New here? Go Register!</NavLink>\n        </div>\n        */}\r\n          <div className=\"loglinks\">\r\n            <span disabled={isLoading} role=\"link\" onClick={() => changeMainPage(\"Home\")}>\r\n              Forgot Password?</span>\r\n            <span disabled={isLoading} role=\"link\" onClick={() => changeMainPage(\"Register\")}>\r\n              New here? Go Register!</span>\r\n          </div>\r\n        </form>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  onLogin = (ev) => {\r\n    ev.preventDefault();\r\n\r\n    this.setState({ isLoading: true });\r\n    (async() => {\r\n      const inputs = document.querySelectorAll(\".userform input\");\r\n      const usernameText = inputs[0].value;\r\n      const passText = inputs[1].value;\r\n      const { updateUser, changeMainPage } = this.context;\r\n      const successStatus = 200;\r\n\r\n      let res = await fetch(`${getServerURL()}/login`, {\r\n        method: \"post\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          username: usernameText,\r\n          pass: passText,\r\n        }),\r\n      });\r\n      if (res.status === successStatus) {\r\n        res = await res.json();\r\n        if (typeof res === \"string\") {\r\n          this.setState({ warningMsg: res });\r\n        } else {\r\n          updateUser(res);\r\n          changeMainPage(\"Profile\");\r\n        }\r\n      } else {\r\n        console.log(await res.json());\r\n      }\r\n      this.setState({ isLoading: false });\r\n    })();\r\n  };\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\n\r\nimport \"../Css/UserForms.css\";\r\nimport { AppContext } from \"../AppContext\";\nimport { getServerURL } from \"../methods\";\n\r\n\r\nclass Register extends React.Component {\r\n  static contextType = AppContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: null,\r\n      email: null,\r\n      pass: null,\r\n      passC: null,\r\n      firstname: null,\r\n      lastname: null,\r\n      dob: null,\r\n      sex: null,\r\n      pic: null,\r\n      desc: null,\r\n      diet: null,\r\n\r\n      warning: null,\r\n      isLoading: false,\r\n    };\r\n  }\r\n\r\n  passRegex = /^(?=.*?\\d)(?=.*?[a-zA-Z]).+$/;\r\n\r\n  render = () => {\r\n    const { sex, warning, isLoading } = this.state;\r\n\r\n    return (\r\n      <main className=\"mainUserForm boxShow\">\r\n        <form className=\"userform subblock boxShow\" onSubmit={this.onRegister}>\r\n          <h1 className=\"lineDown\">Please Complete Required fields to Register</h1>\r\n          <div className=\"fields\">\r\n            <span className=\"req\">Username*:</span>\r\n            <input name=\"username\" pattern=\".{3,}\" required={true} title=\"3 characters minimum\" type=\"text\" onChange={(ev) => this.setState({ username: ev.currentTarget.value })} />\r\n            <span className={`warning${warning === \"username\" ? \"\" : \" hidden\"}`}>Username is Already Taken!</span>\r\n            <span className=\"req\">Email*:</span>\r\n            <input name=\"email\" type=\"email\" onChange={(ev) => this.setState({ email: ev.currentTarget.value })} />\r\n            <span className={`warning${warning === \"email\" ? \"\" : \" hidden\"}`}>Email is Already Taken!</span>\r\n            <span className=\"req\">Password*:</span>\r\n            <input className=\"pass\" minLength=\"8\" name=\"password\" type=\"password\" onChange={(ev) => this.setState({ pass: ev.currentTarget.value })} />\r\n            <span className={`warning${warning === \"pass\" ? \"\" : \" hidden\"}`}>Invalid Password!</span>\r\n            <span className=\"detail\">Password must be at least 8characters long and have both numbers and letters!</span>\r\n            <span className=\"req\">Confirm Password*:</span>\r\n            <input minLength=\"8\" name=\"cpass\" type=\"password\" onChange={(ev) => this.setState({ passC: ev.currentTarget.value })} />\r\n            <span className={`warning${warning === \"passC\" ? \"\" : \" hidden\"}`}>Passwords do Not Match!</span>\r\n            <span>First Name:</span>\r\n            <input name=\"firstname\" type=\"text\" onChange={(ev) => this.setState({ firstname: ev.currentTarget.value })} />\r\n            <span>Last Name:</span>\r\n            <input name=\"lastname\" type=\"text\" onChange={(ev) => this.setState({ lastname: ev.currentTarget.value })} />\r\n            <span>Date Of Birth:</span>\r\n            <input name=\"dob\" type=\"date\" onChange={(ev) => this.setState({ dob: ev.currentTarget.value })} />\r\n            <span className={`warning${warning === \"dob\" ? \"\" : \" hidden\"}`}>Incorrect date!</span>\r\n            <div>\r\n              <span>Sex:</span>\r\n              <input checked={sex === \"1\"} name=\"sex\" type=\"radio\" value=\"male\" onChange={(ev) => this.setState({ sex: \"1\" })} />\r\n              <span>Male </span>\r\n              <input checked={sex === \"0\"} name=\"sex\" type=\"radio\" value=\"female\" onChange={(ev) => this.setState({ sex: \"0\" })} />\r\n              <span>Female</span>\r\n            </div>\r\n            <div className=\"personal\">\r\n              <div>\r\n                <img alt=\"[NO PIC]\" src=\"UserPics/profileEmpty.png\" /><br />\r\n                <button className=\"ftButton\" disabled={isLoading} onClick={this.browseUserPic}>Browse</button>\r\n              </div>\r\n              <div>\r\n                <span>Short Description:</span><br />\r\n                <textarea placeholder=\"Say who you are in a few short phrases..\" onChange={(ev) => this.setState({ describe: ev.currentTarget.value })} />\r\n              </div>\r\n            </div>\r\n            <span>Diet Plans?</span>\r\n            <select onChange={(ev) => this.setState({ diet: (ev.currentTarget.value === \"none\" ? null : ev.currentTarget.value) })}>\r\n              <option>none</option>\r\n              <option>Calorie Restrict</option>\r\n              <option>Paleo</option>\r\n              <option>Keto</option>\r\n              <option>Mediterranian</option>\r\n              <option>Vegetarian</option>\r\n              <option>Vegan</option>\r\n              <option>Carnivore</option>\r\n              <option>Low Carb</option>\r\n              <option>Low Fat</option>\r\n              <option>PSMF</option>\r\n              <option>Specific Personal Plan</option>\r\n            </select>\r\n            <span className=\"detail\">-Pick a Diet from list if any of them apply to You - Can always change it later!</span>\r\n            <span className=\"detail\">(This Choice is simply for tracking stats - Will Not affect results &recommendations)</span>\r\n            <input className=\"ftButton\" disabled={isLoading} type=\"submit\" value=\"Register\" />\r\n          </div>\r\n        </form>\r\n      </main>\r\n    );\r\n  };\r\n\r\n  onRegister = (ev) => {\r\n    ev.preventDefault();\r\n    this.setState({ isLoading: true });\r\n\r\n    (async() => {\r\n      try {\r\n        const { pass, passC, username, email, firstname, lastname, dob, sex, describe, pic, diet } = this.state;\r\n        const { changeMainPage } = this.context;\r\n\r\n        if (!pass.match(this.passRegex)) {\n          this.setState({ warning: \"pass\" });\n        } else if (pass !== passC) {\n          this.setState({ warning: \"passC\" });\n        } else if (dob !== \"\" && new Date(dob) > new Date()) {\n          this.setState({ warning: \"dob\" });\n        } else {\r\n          let res = await fetch(`${getServerURL()}/register`, {\r\n            method: \"put\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({\r\n              username,\r\n              email,\r\n              firstname: firstname === \"\" ? null : firstname,\r\n              lastname: lastname === \"\" ? null : lastname,\r\n              dob: dob === \"\" ? null : dob,\r\n              sex: sex === \"\" ? null : sex,\r\n              describe: describe === \"\" ? null : describe,\r\n              pic: pic === \"\" ? null : pic,\r\n              diet: diet === \"none\" ? null : diet,\r\n              pass,\r\n            }),\r\n          });\r\n          res = await res.json();\r\n\r\n          if (res.userid) {\r\n            changeMainPage(\"Login\");\r\n          } else if (res.includes(\"Username\")) {\n            this.setState({ warning: \"username\" });\n          } else if (res.includes(\"Email\")) {\n            this.setState({ warning: \"email\" });\n          } else {\n            console.log(res);\n          }\r\n        }\r\n      } catch (err) {\r\n        console.log(\"___________ERROR___________\\n\", err.message);\r\n      } finally {\r\n        this.setState({ isLoading: false });\r\n      }\r\n    })();\r\n  };\r\n\r\n  browseUserPic = (ev) => {\r\n    ev.preventDefault();\r\n\r\n    alert(\"Sorry. Not implemented yet...\");\r\n  }\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\n\r\n\r\nconst Error = () => (\r\n  <main className=\"boxShow\">\r\n    <div className=\"subblock\">\r\n      <h1>Error! Page does not exist!</h1>\r\n    </div>\r\n  </main>\r\n);\r\n\r\nexport default Error;\r\n","// import { Route, Switch } from 'react-router-dom';\r\n//\r\n// const Main = () => {\r\n//    return (\r\n//        <Switch>\r\n//            <Route path=\"/\" component={Home} exact/>\r\n//            <Route path=\"/DailyMeals\" component={DailyMeals} />\r\n//            <Route path=\"/YourFood\" component={YourFood} />\r\n//            <Route path=\"/YourPlans\" component={YourPlans} />\r\n//            <Route path=\"/YourStats\" component={YourStats} />\r\n//            <Route path=\"/GlobalStats\" component={GlobalStats} />\r\n//            <Route path=\"/GlobalData\" component={GlobalData} />\r\n//            <Route path=\"/Login\" component={Login} />\r\n//            <Route path=\"/Register\" component={Register} />\r\n//            <Route component={Error} />\r\n//        </Switch>\r\n//    );\r\n// }\r\n\r\nimport React from \"react\";\r\n\r\nimport Home from \"../MainPages/Home\";\r\nimport DailyMeals from \"../MainPages/DailyMeals\";\r\nimport YourFood from \"../MainPages/YourFood\";\r\nimport YourPlans from \"../MainPages/YourPlans\";\r\nimport YourStats from \"../MainPages/YourStats\";\r\nimport GlobalStats from \"../MainPages/GlobalStats\";\r\nimport GlobalData from \"../MainPages/UsersData\";\r\nimport Profile from \"../MainPages/Profile\";\r\nimport Login from \"../MainPages/Login\";\r\nimport Register from \"../MainPages/Register\";\r\nimport Error from \"../MainPages/Error\";\n\r\n\r\nclass Main extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { page: props.page ? props.page : \"Home\" };\r\n  }\r\n\r\n  render = () => {\r\n    switch (this.state.page) {\r\n      case \"Home\":\r\n        return <Home />;\r\n      case \"DailyMeals\":\r\n        return <DailyMeals />;\r\n      case \"YourFood\":\r\n        return <YourFood />;\r\n      case \"YourPlans\":\r\n        return <YourPlans />;\r\n      case \"YourStats\":\r\n        return <YourStats />;\r\n      case \"GlobalStats\":\r\n        return <GlobalStats />;\r\n      case \"GlobalData\":\r\n        return <GlobalData />;\r\n      case \"Profile\":\r\n        return <Profile />;\r\n      case \"Register\":\r\n        return <Register />;\r\n      case \"Login\":\r\n        return <Login />;\r\n      default:\r\n        return <Error />;\r\n    }\r\n  };\r\n\r\n    changePage = (newPage) => {\r\n      const { page } = this.state;\r\n\r\n      if (page !== newPage) {\n        this.setState({ page: newPage });\n      }\r\n    };\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\n\r\n\r\nclass Footer extends React.Component {\r\n    render = () => (\r\n      <footer className=\"subblock boxShow\">\r\n        <h3 id=\"author\">--Made by Rotariu Stefan<sub> - StravoS</sub></h3>\r\n      </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\n\nimport Header from \"./Sections/Header\";\r\nimport Nav from \"./Sections/Nav\";\r\nimport Main from \"./Sections/Main\";\r\nimport Footer from \"./Sections/Footer\";\nimport { AppContext, defaultUser } from \"./AppContext\";\nimport { dateToStr } from \"./methods\";\n\r\n\r\nconst refs = {\r\n  main: React.createRef(),\r\n  footer: React.createRef(),\r\n  header: React.createRef(),\r\n  nav: React.createRef(),\r\n};\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { currentUser: defaultUser };\r\n  }\r\n\r\nrender = () => (\r\n  <AppContext.Provider value={ { currentUser: this.state.currentUser, changeMainPage: this.changeMainPage, updateUser: this.updateUser } } >\r\n    <div className=\"layout\">\r\n      <Header key=\"H\" ref={refs.header} />\r\n      <Nav key=\"N\" ref={refs.nav} />\r\n      <Main key=\"M\" ref={refs.main} page=\"Home\" />\r\n      <Footer key=\"F\" ref={refs.footer} />\r\n    </div>\r\n  </AppContext.Provider>\r\n);\r\n\r\n  changeMainPage = (newPage) => refs.main.current.changePage(newPage);\r\n\r\n  updateUser = (data) => {\r\n    if (data === null) {\r\n      this.setState({ currentUser: defaultUser });\r\n      refs.header.current.updateUser(false);\r\n    } else {\r\n      data.dob = dateToStr(new Date(data.dob));\r\n      this.setState({ currentUser: data });\r\n      refs.header.current.updateUser(true);\r\n    }\r\n  };\r\n\r\n  updateUserProfile = (data) => {\r\n    const { currentUser } = this.state;\r\n\r\n    currentUser.username = data.username;\r\n    currentUser.email = data.email;\r\n    currentUser.firstname = data.firstname;\r\n    currentUser.lastname = data.lastname;\r\n    currentUser.dob = data.dob;\r\n    currentUser.sex = data.sex;\r\n    currentUser.describe = data.describe;\r\n    currentUser.pic = data.pic;\r\n    currentUser.diet = data.diet;\r\n\r\n    this.setState({ currentUser });\r\n  };\r\n}\r\n\r\nexport default App;\r\n","// import { BrowserRouter } from 'react-router-dom';\r\n//\r\n// ReactDOM.render(\r\n//    <BrowserRouter>\r\n//        <Header />\r\n//        <Nav />\r\n//        <Main />\r\n//        <Footer />\r\n//    </BrowserRouter>,\r\n//    document.querySelector(\"#root\"));\r\n\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\n\r\nimport App from \"./App\";\n\r\n\r\nReactDOM.render(<App />,\r\n  document.querySelector(\"#root\"));\r\n"],"sourceRoot":""}